var yl=Object.create;var hr=Object.defineProperty;var xl=Object.getOwnPropertyDescriptor;var wl=Object.getOwnPropertyNames;var bl=Object.getPrototypeOf,Il=Object.prototype.hasOwnProperty;var Ya=t=>hr(t,"__esModule",{value:!0});var Cl=(t,e)=>{for(var n in e)hr(t,n,{get:e[n],enumerable:!0})},Za=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wl(e))!Il.call(t,i)&&(n||i!=="default")&&hr(t,i,{get:()=>e[i],enumerable:!(r=xl(e,i))||r.enumerable});return t},Et=(t,e)=>Za(Ya(hr(t!=null?yl(bl(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),El=(t=>(e,n)=>t&&t.get(e)||(n=Za(Ya({}),e,1),t&&t.set(e,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var fp={};Cl(fp,{activate:()=>lp,deactivate:()=>dp});var Ut=Et(require("vscode"));var rr=require("vscode"),Y=Et(require("vscode")),Ti=Object.defineProperty,es=Object.getOwnPropertySymbols,Sl=Object.prototype.hasOwnProperty,Tl=Object.prototype.propertyIsEnumerable,ts=(t,e,n)=>e in t?Ti(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Be=(t,e)=>{for(var n in e||(e={}))Sl.call(e,n)&&ts(t,n,e[n]);if(es)for(var n of es(e))Tl.call(e,n)&&ts(t,n,e[n]);return t},kl=t=>Ti(t,"__esModule",{value:!0}),y=(t,e)=>()=>(t&&(e=t(t=0)),e),Rl=(t,e)=>{kl(t);for(var n in e)Ti(t,n,{get:e[n],enumerable:!0})},ki=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{s(n.next(c))}catch(u){i(u)}},a=c=>{try{s(n.throw(c))}catch(u){i(u)}},s=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,a);s((n=n.apply(t,e)).next())}),ns,Al=y(()=>{ns={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}}),nn,et,dt,Ue,gr,ft,mr,vr,rs,is,Pn,Ri=y(()=>{nn="function",et="object",dt="undefined",Ue="prototype",gr="hasOwnProperty",ft=Object,mr=ft[Ue],vr=ft.assign,rs=ft.create,is=ft.defineProperty,Pn=mr[gr]});function rn(){return typeof globalThis!==dt&&globalThis?globalThis:typeof self!==dt&&self?self:typeof window!==dt&&window?window:typeof global!==dt&&global?global:null}function Ai(t){throw new TypeError(t)}function yr(t){var e=rs;if(e)return e(t);if(t==null)return{};var n=typeof t;n!==et&&n!==nn&&Ai("Object prototype may only be an Object:"+t);function r(){}return r[Ue]=t,new r}var os=y(()=>{Ri()});function J(t,e){typeof e!==nn&&e!==null&&Ai("Class extends value "+String(e)+" is not a constructor or null"),xr(t,e);function n(){this.constructor=t}t[Ue]=e===null?yr(e):(n[Ue]=e[Ue],new n)}var Dl,Pl,as,on,xr,_l=y(()=>{Ri(),os(),Dl=(rn()||{}).Symbol,Pl=(rn()||{}).Reflect,as=function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)mr[gr].call(e,i)&&(t[i]=e[i])}return t},on=vr||as,xr=function(t,e){return xr=ft.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[gr](i)&&(n[i]=r[i])},xr(t,e)}}),Ml=y(()=>{}),te=y(()=>{Ri(),os(),_l(),Ml()});function St(t,e){return t&&Ln[tt].hasOwnProperty.call(t,e)}function ss(t){return t&&(t===Ln[tt]||t===Array[tt])}function Di(t){return ss(t)||t===Function[tt]}function Ot(t){if(t){if(sn)return sn(t);var e=t[us]||t[tt]||(t[_n]?t[_n][tt]:null);if(e)return e}return null}function wr(t,e){var n=[],r=Ln.getOwnPropertyNames;if(r)n=r(t);else for(var i in t)typeof i=="string"&&St(t,i)&&n.push(i);if(n&&n.length>0)for(var o=0;o<n.length;o++)e(n[o])}function Pi(t,e,n){return e!==_n&&typeof t[e]===Mn&&(n||St(t,e))}function br(t){throw new TypeError("DynamicProto: "+t)}function Nl(t){var e={};return wr(t,function(n){!e[n]&&Pi(t,n,!1)&&(e[n]=t[n])}),e}function _i(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}function Ll(t,e,n,r){function i(c,u,l){var d=u[l];if(d[Ir]&&r){var p=c[Nn]||{};p[an]!==!1&&(d=(p[u[Ht]]||{})[l]||d)}return function(){return d.apply(c,arguments)}}var o={};wr(n,function(c){o[c]=i(e,n,c)});for(var a=Ot(t),s=[];a&&!Di(a)&&!_i(s,a);)wr(a,function(c){!o[c]&&Pi(a,c,!sn)&&(o[c]=i(e,a,c))}),s.push(a),a=Ot(a);return o}function Fl(t,e,n,r){var i=null;if(t&&St(n,Ht)){var o=t[Nn]||{};if(i=(o[n[Ht]]||{})[e],i||br("Missing ["+e+"] "+Mn),!i[Cr]&&o[an]!==!1){for(var a=!St(t,e),s=Ot(t),c=[];a&&s&&!Di(s)&&!_i(c,s);){var u=s[e];if(u){a=u===r;break}c.push(s),s=Ot(s)}try{a&&(t[e]=i),i[Cr]=1}catch{o[an]=!1}}}return i}function Ul(t,e,n){var r=e[t];return r===n&&(r=Ot(e)[t]),typeof r!==Mn&&br("["+t+"] is not a "+Mn),r}function Ol(t,e,n,r,i){function o(c,u){var l=function(){var d=Fl(this,u,c,l)||Ul(u,c,l);return d.apply(this,arguments)};return l[Ir]=1,l}if(!ss(t)){var a=n[Nn]=n[Nn]||{},s=a[e]=a[e]||{};a[an]!==!1&&(a[an]=!!i),wr(n,function(c){Pi(n,c,!1)&&n[c]!==r[c]&&(s[c]=n[c],delete n[c],(!St(t,c)||t[c]&&!t[c][Ir])&&(t[c]=o(t,c)))})}}function Hl(t,e){if(sn)for(var n=[],r=Ot(e);r&&!Di(r)&&!_i(n,r);){if(r===t)return!0;n.push(r),r=Ot(r)}return!1}function Mi(t,e){return St(t,tt)?t.name||e||Fi:((t||{})[_n]||{}).name||e||Fi}function Ni(t,e,n,r){St(t,tt)||br("theClass is an invalid class definition.");var i=t[tt];Hl(i,e)||br("["+Mi(t)+"] is not in class hierarchy of ["+Mi(e)+"]");var o=null;St(i,Ht)?o=i[Ht]:(o=cs+Mi(t,"_")+"$"+Oi,Oi++,i[Ht]=o);var a=Ni[Li],s=!!a[Er];s&&r&&r[Er]!==void 0&&(s=!!r[Er]);var c=Nl(e),u=Ll(i,e,c,s);n(e,u);var l=!!sn&&!!a[Ui];l&&r&&(l=!!r[Ui]),Ol(i,o,e,c,l!==!1)}var _n,tt,Mn,Nn,Ir,Ht,cs,Cr,an,Li,Fi,us,Er,Ui,Ln,sn,Oi,ls,de,we=y(()=>{_n="constructor",tt="prototype",Mn="function",Nn="_dynInstFuncs",Ir="_isDynProxy",Ht="_dynClass",cs="_dynCls$",Cr="_dynInstChk",an=Cr,Li="_dfOpts",Fi="_unknown_",us="__proto__",Er="useBaseInst",Ui="setInstFuncs",Ln=Object,sn=Ln.getPrototypeOf,Oi=0,ls={setInstFuncs:!0,useBaseInst:!0},Ni[Li]=ls,de=Ni}),T,w,Sr=y(()=>{(function(t){t[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING"})(T||(T={})),w={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Hi(t){return mr.toString.call(t)}function ql(t,e){return typeof t===e}function Ae(t){return t===void 0||typeof t===dt}function k(t){return t===null||Ae(t)}function Bl(t){return!k(t)}function qi(t,e){return t&&Pn.call(t,e)}function qt(t){return typeof t===et}function j(t){return typeof t===nn}function Fn(t,e,n,r){r===void 0&&(r=!1);var i=!1;if(!k(t))try{k(t[Ki])?k(t[Gi])||(t[Gi](ji+e,n),i=!0):(t[Ki](e,n,r),i=!0)}catch{}return i}function ds(t,e,n,r){if(r===void 0&&(r=!1),!k(t))try{k(t[Qi])?k(t[$i])||t[$i](ji+e,n):t[Qi](e,n,r)}catch{}}function zl(t){var e=t,n=/([^\w\d_$])/g;return n.test(t)&&(e=t.replace(n,"_")),e}function ve(t,e){if(t)for(var n in t)Pn.call(t,n)&&e.call(t,n,t[n])}function Vl(t,e){if(t&&e){var n=e.length,r=t.length;if(t===e)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(t[i]!=e[o])return!1;i--}return!0}}return!1}function Ee(t,e){return t&&e?t.indexOf(e)!==-1:!1}function Bi(t){return Hi(t)==="[object Date]"}function pt(t){return Hi(t)==="[object Array]"}function Tr(t){return Hi(t)==="[object Error]"}function B(t){return typeof t=="string"}function zi(t){return typeof t=="number"}function Vi(t){return typeof t=="boolean"}function Tt(t){if(Bi(t)){var e=function(n){var r=String(n);return r.length===1&&(r="0"+r),r};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function z(t,e,n){for(var r=t.length,i=0;i<r&&!(i in t&&e.call(n||t,t[i],i,t)===-1);i++);}function Un(t,e,n){for(var r=t.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}function On(t,e,n){for(var r=t.length,i=n||t,o=new Array(r),a=0;a<r;a++)a in t&&(o[a]=e.call(i,t[a],t));return o}function fs(t,e,n){var r=t.length,i=0,o;if(arguments.length>=3)o=arguments[2];else{for(;i<r&&!(i in t);)i++;o=t[i++]}for(;i<r;)i in t&&(o=e(o,t[i],i,t)),i++;return o}function be(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"")}function Bt(t){var e=typeof t;e!==nn&&(e!==et||t===null)&&Ai("objKeys called on non-object");var n=[];for(var r in t)t&&Pn.call(t,r)&&n.push(r);if(ms)for(var i=kr.length,o=0;o<i;o++)t&&Pn.call(t,kr[o])&&n.push(kr[o]);return n}function cn(t,e,n,r){if(Xi)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Xi(t,e,i),!0}catch{}return!1}function ze(){var t=Date;return t.now?t.now():new t().getTime()}function X(t){return Tr(t)?t.name:""}function G(t,e,n,r,i){var o=n;return t&&(o=t[e],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,t[e]=o)),o}function Se(t,e,n){var r;return t?(r=t[e],!r&&k(r)&&(r=Ae(n)?{}:n,t[e]=r)):r=Ae(n)?{}:n,r}function ps(t){return!t}function Wi(t){return!!t}function nt(t){throw new Error(t)}function hs(t,e,n){if(t&&e&&t!==e&&qt(t)&&qt(e)){var r=function(o){if(B(o)){var a=e[o];j(a)?(!n||n(o,!0,e,t))&&(t[o]=function(s){return function(){var c=arguments;return e[s].apply(e,c)}}(o)):(!n||n(o,!1,e,t))&&(qi(t,o)&&delete t[o],cn(t,o,function(){return e[o]},function(s){e[o]=s})||(t[o]=a))}};for(var i in e)r(i)}return t}function Wl(t){return function(){function e(){var n=this;t&&ve(t,function(r,i){n[r]=i})}return e}()}function gs(t){return t&&(t=ft(vr?vr({},t):t)),t}var ji,Gi,Ki,$i,Qi,Xi,jl,Gl,ms,kr,Te=y(()=>{te(),ji="on",Gi="attachEvent",Ki="addEventListener",$i="detachEvent",Qi="removeEventListener",Xi=is,jl=ft.freeze,Gl=ft.seal,ms=!{toString:null}.propertyIsEnumerable("toString"),kr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function ke(t){var e=rn();return e&&e[t]?e[t]:t===Yi&&Rr()?window:null}function Rr(){return Boolean(typeof window===et&&window)}function Hn(){return Rr()?window:ke(Yi)}function vs(){return Boolean(typeof document===et&&document)}function rt(){return vs()?document:ke(ys)}function Kl(){return Boolean(typeof navigator===et&&navigator)}function it(){return Kl()?navigator:ke(xs)}function $l(){return Boolean(typeof history===et&&history)}function Ql(){return $l()?history:ke(ws)}function zt(t){if(t&&ks){var e=ke("__mockLocation");if(e)return e}return typeof location===et&&location?location:ke(bs)}function Xl(){return typeof console!==dt?console:ke(Is)}function ht(){return ke(Cs)}function un(){return Boolean(typeof JSON===et&&JSON||ke(Zi)!==null)}function $e(){return un()?JSON||ke(Zi):null}function Jl(){return ke(Es)}function Yl(){return ke(Ss)}function Zl(){var t=it();return t&&t.product?t.product===Ts:!1}function Ar(){var t=it();if(t&&(t.userAgent!==Mr||_r===null)){Mr=t.userAgent;var e=(Mr||"").toLowerCase();_r=Ee(e,Dr)||Ee(e,Pr)}return _r}function Ji(t){if(t===void 0&&(t=null),!t){var e=it()||{};t=e?(e.userAgent||"").toLowerCase():""}var n=(t||"").toLowerCase();if(Ee(n,Dr))return parseInt(n.split(Dr)[1]);if(Ee(n,Pr)){var r=parseInt(n.split(Pr)[1]);if(r)return r+4}return null}function H(t){var e=Object[Ue].toString.call(t),n="";return e==="[object Error]"?n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":un()&&(n=$e().stringify(t)),e+n}var Yi,ys,xs,ws,bs,Is,Cs,Zi,Es,Ss,Ts,Dr,Pr,_r,Mr,ks,qn=y(()=>{te(),Te(),Yi="window",ys="document",xs="navigator",ws="history",bs="location",Is="console",Cs="performance",Zi="JSON",Es="crypto",Ss="msCrypto",Ts="ReactNative",Dr="msie",Pr="trident/",_r=null,Mr=null,ks=!1});function Rs(t){return t?'"'+t.replace(/\"/g,"")+'"':""}function Nr(t,e){return(t||{}).logger||new eo(e)}var As,Ds,Ps,ln,eo,to=y(()=>{Sr(),qn(),we(),Te(),As="AI (Internal): ",Ds="AI: ",Ps="AITR_",ln=function(){function t(e,n,r,i){r===void 0&&(r=!1);var o=this;o.messageId=e,o.message=(r?Ds:As)+e;var a="";un()&&(a=$e().stringify(i));var s=(n?" message:"+Rs(n):"")+(i?" props:"+Rs(a):"");o.message+=s}return t.dataType="MessageData",t}(),eo=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};de(t,this,function(i){k(e)&&(e={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(s,c,u,l,d){d===void 0&&(d=!1);var p=new ln(c,u,d,l);if(i.enableDebugExceptions())throw p;if(!Ae(p.message)){var x=i.consoleLoggingLevel();if(d){var I=+p.messageId;!r[I]&&x>=T.WARNING&&(i.warnToConsole(p.message),r[I]=!0)}else x>=T.WARNING&&i.warnToConsole(p.message);i.logInternalMessage(s,p)}},i.warnToConsole=function(s){var c=Xl();if(c){var u="log";c.warn&&(u="warn"),j(c[u])&&c[u](s)}},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(s,c){if(!a()){var u=!0,l=Ps+c.messageId;if(r[l]?u=!1:r[l]=!0,u&&(s<=i.telemetryLoggingLevel()&&(i.queue.push(c),n++),n===i.maxInternalMessageLimit())){var d="Internal events throttle limit per PageView reached for this app.",p=new ln(w.MessageLimitPerPVExceeded,d,!1);i.queue.push(p),i.warnToConsole(d)}}};function o(s,c){var u=e[s];return k(u)?c:u}function a(){return n>=i.maxInternalMessageLimit()}})}return t}()});function dn(t,e,n,r,i){if(t){var o=t;if(j(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Lr);try{if(a=o.create(e(),r,i),a){if(s&&a.setCtx&&(a.setCtx(fn.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(fn.ChildrenContextKey);c||(c=[],s.setCtx(fn.ChildrenContextKey,c)),c.push(a)}return o.setCtx(Lr,a),n(a)}}catch(u){a&&a.setCtx&&a.setCtx("exception",u)}finally{a&&o.fire(a),o.setCtx(Lr,s)}}}return n()}var Vt,fn,no,Lr,Fr=y(()=>{we(),Te(),Vt="ctx",fn=function(){function t(e,n,r){var i=this,o=!1;if(i.start=ze(),i.name=e,i.isAsync=r,i.isChildEvt=function(){return!1},j(n)){var a;o=cn(i,"payload",function(){return!a&&j(n)&&(a=n(),n=null),a})}i.getCtx=function(s){return s?s===t.ParentContextKey||s===t.ChildrenContextKey?i[s]:(i[Vt]||{})[s]:null},i.setCtx=function(s,c){if(s)if(s===t.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=c;else if(s===t.ChildrenContextKey)i[s]=c;else{var u=i[Vt]=i[Vt]||{};u[s]=c}},i.complete=function(){var s=0,c=i.getCtx(t.ChildrenContextKey);if(pt(c))for(var u=0;u<c.length;u++){var l=c[u];l&&(s+=l.time)}i.time=ze()-i.start,i.exTime=i.time-s,i.complete=function(){},!o&&j(n)&&(i.payload=n())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),no=function(){function t(e){this.ctx={},de(t,this,function(n){n.create=function(r,i,o){return new fn(r,i,o)},n.fire=function(r){r&&(r.complete(),e&&e.perfEvent(r))},n.setCtx=function(r,i){if(r){var o=n[Vt]=n[Vt]||{};o[r]=i}},n.getCtx=function(r){return(n[Vt]||{})[r]}})}return t}(),Lr="CoreUtils.doPerf"}),_s,ed=y(()=>{Fr(),Sr(),Te(),_s=function(){function t(e,n){var r=this,i=null,o=j(e.processTelemetry),a=j(e.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return e},r.getNext=function(){return i},r.setNext=function(s){i=s},r.processTelemetry=function(s,c){c||(c=n);var u=e?e.identifier:"TelemetryPluginChain";dn(c?c.core():null,function(){return u+":processTelemetry"},function(){if(e&&o){r._hasRun=!0;try{c.setNext(i),a&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(s,c)}catch(d){var l=i&&i._hasRun;(!i||!l)&&c.diagLog().throwInternal(T.CRITICAL,w.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+d),i&&!l&&i.processTelemetry(s,c)}}else i&&(r._hasRun=!0,i.processTelemetry(s,c))},function(){return{item:s}},!s.sync)}}return t}()});function ro(t,e){var n=[];if(t&&t.length>0)for(var r=null,i=0;i<t.length;i++){var o=t[i];if(o&&j(o.processTelemetry)){var a=new _s(o,e);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}function td(t,e,n){var r=[],i=!n;if(t)for(;t;){var o=t.getPlugin();(i||o===n)&&(i=!0,r.push(o)),t=t.getNext()}return i||r.push(n),ro(r,e)}function nd(t,e,n){var r=t,i=!1;return n&&t&&(r=[],z(t,function(o){(i||o===n)&&(i=!0,r.push(o))})),n&&!i&&(r||(r=[]),r.push(n)),ro(r,e)}var Wt,io=y(()=>{to(),ed(),Te(),Wt=function(){function t(e,n,r,i){var o=this,a=null;i!==null&&(e&&j(e.getPlugin)?a=td(e,o,i||e.getPlugin()):i?a=nd(e,o,i):Ae(i)&&(a=ro(e,o))),o.core=function(){return r},o.diagLog=function(){return Nr(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(s,c){c===void 0&&(c={});var u;if(n){var l=n.extensionConfig;l&&s&&(u=l[s])}return u||c},o.getConfig=function(s,c,u){u===void 0&&(u=!1);var l,d=o.getExtCfg(s,null);return d&&!k(d[c])?l=d[c]:n&&!k(n[c])&&(l=n[c]),k(l)?u:l},o.hasNext=function(){return a!=null},o.getNext=function(){return a},o.setNext=function(s){a=s},o.processNext=function(s){var c=a;c&&(a=c.getNext(),c.processTelemetry(s,o))},o.createNew=function(s,c){return s===void 0&&(s=null),new t(s||a,n,r,c)}}return t}()}),Ms,oo,Ns=y(()=>{Ms="iKey",oo="extensionConfig"}),Bn,jt,Ls=y(()=>{io(),Te(),Ns(),Bn="getPlugin",jt=function(){function t(){var e=this,n=!1,r=null,i=null;e.core=null,e.diagLog=function(o){return e._getTelCtx(o).diagLog()},e.isInitialized=function(){return n},e.setInitialized=function(o){n=o},e.setNextPlugin=function(o){i=o},e.processNext=function(o,a){a?a.processNext(o):i&&j(i.processTelemetry)&&i.processTelemetry(o,null)},e._getTelCtx=function(o){o===void 0&&(o=null);var a=o;if(!a){var s=r||new Wt(null,{},e.core);i&&i[Bn]?a=s.createNew(null,i[Bn]):a=s.createNew(null,i)}return a},e._baseTelInit=function(o,a,s,c){o&&G(o,oo,[],null,k),!c&&a&&(c=a.getProcessTelContext().getNext());var u=i;i&&i[Bn]&&(u=i[Bn]()),e.core=a,r=new Wt(c,o,a,u),n=!0}}return t.prototype.initialize=function(e,n,r,i){this._baseTelInit(e,n,r,i)},t}()});function ao(t,e){for(var n=[],r=null,i=t.getNext();i;){var o=i.getPlugin();o&&(r&&j(r[co])&&j(o[Ur])&&r[co](o),(!j(o[uo])||!o[uo]())&&n.push(o),r=o,i=i.getNext())}z(n,function(a){a.initialize(t.getCfg(),t.core(),e,t.getNext())})}function Fs(t){return t.sort(function(e,n){var r=0,i=j(n[Ur]);return j(e[Ur])?r=i?e[so]-n[so]:1:i&&(r=-1),r})}var Ur,so,co,uo,Us=y(()=>{Te(),Ur="processTelemetry",so="priority",co="setNextPlugin",uo="isInitialized"}),Or,Os,Hs,rd=y(()=>{te(),we(),Ls(),io(),Us(),Te(),Or=500,Os="Channel has invalid priority",Hs=function(t){J(e,t);function e(){var n=t.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=Or;var r;de(e,n,function(s,c){s.setNextPlugin=function(u){},s.processTelemetry=function(u,l){r&&z(r,function(d){if(d.length>0){var p=n._getTelCtx(l).createNew(d);p.processNext(u)}})},s.getChannelControls=function(){return r},s.initialize=function(u,l,d){s.isInitialized()||(c.initialize(u,l,d),a((u||{}).channels,d),z(r,function(p){return ao(new Wt(p,u,l),d)}))}});function i(s){z(s,function(c){c.priority<Or&&nt(Os+c.identifier)})}function o(s){s&&s.length>0&&(s=s.sort(function(c,u){return c.priority-u.priority}),i(s),r.push(s))}function a(s,c){if(r=[],s&&z(s,function(l){return o(l)}),c){var u=[];z(c,function(l){l.priority>Or&&u.push(l)}),o(u)}}return n}return e._staticInit=function(){var n=e.prototype;cn(n,"ChannelControls",n.getChannelControls),cn(n,"channelQueue",n.getChannelControls)}(),e}(jt)});function qs(t,e){var n=zn[gt]||Wn[gt];return n||(n=zn[gt]=zn(t,e),Wn[gt]=n),n}function Hr(t){return t?t.isEnabled():!0}function id(t){var e=t.cookieCfg=t.cookieCfg||{};if(G(e,"domain",t.cookieDomain,Bl,k),G(e,"path",t.cookiePath||"/",null,k),k(e[zr])){var n=void 0;Ae(t[ho])||(n=!t[ho]),Ae(t[go])||(n=!t[go]),e[zr]=n}return e}function lo(t,e){var n;if(t)n=t.getCookieMgr();else if(e){var r=e.cookieCfg;r[gt]?n=r[gt]:n=zn(e)}return n||(n=qs(e,(t||{}).logger)),n}function zn(t,e){var n=id(t||Wn),r=n.path||"/",i=n.domain,o=n[zr]!==!1,a={isEnabled:function(){var s=o&&Bs(e),c=Wn[gt];return s&&c&&a!==c&&(s=Hr(c)),s},setEnabled:function(s){o=s!==!1},set:function(s,c,u,l,d){if(Hr(a)){var p={},x=be(c||Ve),I=x.indexOf(";");if(I!==-1&&(x=be(c.substring(0,I)),p=zs(c.substring(I+1))),G(p,"domain",l||i,Wi,Ae),!k(u)){var S=Ar();if(Ae(p[Br])){var f=ze(),m=f+u*1e3;if(m>0){var v=new Date;v.setTime(m),G(p,Br,Vs(v,S?fo:po)||Vs(v,S?fo:po)||Ve,Wi)}}S||G(p,"max-age",Ve+u,null,Ae)}var C=zt();C&&C.protocol==="https:"&&(G(p,"secure",null,null,Ae),Vr===null&&(Vr=!Gs((it()||{}).userAgent)),Vr&&G(p,"SameSite","None",null,Ae)),G(p,"path",d||r,null,Ae);var N=n.setCookie||js;N(s,Ws(x,p))}},get:function(s){var c=Ve;return Hr(a)&&(c=(n.getCookie||od)(s)),c},del:function(s,c){Hr(a)&&a.purge(s,c)},purge:function(s,c){if(Bs(e)){var u=(d={},d.path=c||"/",d[Br]="Thu, 01 Jan 1970 00:00:01 GMT",d);Ar()||(u["max-age"]="0");var l=n.delCookie||js;l(s,Ws(Ve,u))}var d}};return a[gt]=a,a}function Bs(t){if(Vn===null){Vn=!1;try{var e=pn||{};Vn=e[qr]!==void 0}catch(n){t&&t.throwInternal(T.WARNING,w.CannotAccessCookie,"Cannot access document.cookie - "+X(n),{exception:H(n)})}}return Vn}function zs(t){var e={};if(t&&t.length){var n=be(t).split(";");z(n,function(r){if(r=be(r||Ve),r){var i=r.indexOf("=");i===-1?e[r]=null:e[be(r.substring(0,i))]=be(r.substring(i+1))}})}return e}function Vs(t,e){return j(t[e])?t[e]():null}function Ws(t,e){var n=t||Ve;return ve(e,function(r,i){n+="; "+r+(k(i)?Ve:"="+i)}),n}function od(t){var e=Ve;if(pn){var n=pn[qr]||Ve;mo!==n&&(vo=zs(n),mo=n),e=be(vo[t]||Ve)}return e}function js(t,e){pn&&(pn[qr]=t+"="+e)}function Gs(t){return B(t)?!!(Ee(t,"CPU iPhone OS 12")||Ee(t,"iPad; CPU OS 12")||Ee(t,"Macintosh; Intel Mac OS X 10_14")&&Ee(t,"Version/")&&Ee(t,"Safari")||Ee(t,"Macintosh; Intel Mac OS X 10_14")&&Vl(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ee(t,"Chrome/5")||Ee(t,"Chrome/6")||Ee(t,"UnrealEngine")&&!Ee(t,"Chrome")||Ee(t,"UCBrowser/12")||Ee(t,"UCBrowser/11")):!1}var fo,po,qr,Br,zr,ho,go,gt,Ve,Vn,Vr,mo,pn,vo,Wn,yo=y(()=>{Sr(),qn(),Te(),fo="toGMTString",po="toUTCString",qr="cookie",Br="expires",zr="enabled",ho="isCookieUseDisabled",go="disableCookiesUsage",gt="_ckMgr",Ve="",Vn=null,Vr=null,mo=null,pn=rt(),vo={},Wn={}}),Ks,xo,wo,$s=y(()=>{te(),we(),rd(),io(),Us(),Fr(),yo(),Te(),Ns(),Ks="Extensions must provide callback to initialize",xo="_notificationManager",wo=function(){function t(){var e=!1,n,r,i,o,a;de(t,this,function(s){s._extensions=new Array,r=new Hs,s.logger=yr({throwInternal:function(c,u,l,d,p){p===void 0&&(p=!1)},warnToConsole:function(c){},resetInternalMessageCount:function(){}}),n=[],s.isInitialized=function(){return e},s.initialize=function(c,u,l,d){s.isInitialized()&&nt("Core should not be initialized more than once"),(!c||k(c.instrumentationKey))&&nt("Please provide instrumentation key"),i=d,s[xo]=d,s.config=c||{},c.extensions=k(c.extensions)?[]:c.extensions;var p=Se(c,oo);p.NotificationManager=d,l&&(s.logger=l);var x=[];x.push.apply(x,u.concat(c.extensions)),x=Fs(x);var I=[],S=[],f={};z(x,function(m){(k(m)||k(m.initialize))&&nt(Ks);var v=m.priority,C=m.identifier;m&&v&&(k(f[v])?f[v]=C:l.warnToConsole("Two extensions have same priority #"+v+" - "+f[v]+", "+C)),!v||v<r.priority?I.push(m):S.push(m)}),x.push(r),I.push(r),x=Fs(x),s._extensions=x,ao(new Wt([r],c,s),x),ao(new Wt(I,c,s),x),s._extensions=I,s.getTransmissionControls().length===0&&nt("No channels available"),e=!0,s.releaseQueue()},s.getTransmissionControls=function(){return r.getChannelControls()},s.track=function(c){G(c,Ms,s.config.instrumentationKey,null,ps),G(c,"time",Tt(new Date),null,ps),G(c,"ver","4.0",null,k),s.isInitialized()?s.getProcessTelContext().processNext(c):n.push(c)},s.getProcessTelContext=function(){var c=s._extensions,u=c;return(!c||c.length===0)&&(u=[r]),new Wt(u,s.config,s)},s.getNotifyMgr=function(){return i||(i=yr({addNotificationListener:function(c){},removeNotificationListener:function(c){},eventsSent:function(c){},eventsDiscarded:function(c,u){},eventsSendRequest:function(c,u){}}),s[xo]=i),i},s.getCookieMgr=function(){return a||(a=zn(s.config,s.logger)),a},s.setCookieMgr=function(c){a=c},s.getPerfMgr=function(){return o||s.config&&s.config.enablePerfMgr&&(o=new no(s.getNotifyMgr())),o},s.setPerfMgr=function(c){o=c},s.eventCnt=function(){return n.length},s.releaseQueue=function(){n.length>0&&(z(n,function(c){s.getProcessTelContext().processNext(c)}),n=[])}})}return t}()}),bo,Qs=y(()=>{we(),Te(),bo=function(){function t(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;de(t,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var o=Un(r.listeners,i);o>-1;)r.listeners.splice(o,1),o=Un(r.listeners,i)},r.eventsSent=function(i){z(r.listeners,function(o){o&&o.eventsSent&&setTimeout(function(){return o.eventsSent(i)},0)})},r.eventsDiscarded=function(i,o){z(r.listeners,function(a){a&&a.eventsDiscarded&&setTimeout(function(){return a.eventsDiscarded(i,o)},0)})},r.eventsSendRequest=function(i,o){z(r.listeners,function(a){if(a&&a.eventsSendRequest)if(o)setTimeout(function(){return a.eventsSendRequest(i,o)},0);else try{a.eventsSendRequest(i,o)}catch{}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&z(r.listeners,function(o){if(o&&o.perfEvent)if(i.isAsync)setTimeout(function(){return o.perfEvent(i)},0);else try{o.perfEvent(i)}catch{}})}})}return t}()}),Io,ad=y(()=>{te(),$s(),Al(),Qs(),Fr(),to(),we(),Te(),Io=function(t){J(e,t);function e(){var n=t.call(this)||this;return de(e,n,function(r,i){r.initialize=function(s,c,u,l){i.initialize(s,c,u||new eo(s),l||new bo(s))},r.track=function(s){dn(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),nt("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)},r.addNotificationListener=function(s){var c=r.getNotifyMgr();c&&c.addNotificationListener(s)},r.removeNotificationListener=function(s){var c=r.getNotifyMgr();c&&c.removeNotificationListener(s)},r.pollInternalLogs=function(s){var c=r.config.diagnosticLogInterval;return(!c||!(c>0))&&(c=1e4),setInterval(function(){var u=r.logger?r.logger.queue:[];z(u,function(l){var d={name:s||"InternalMessageId: "+l.messageId,iKey:r.config.instrumentationKey,time:Tt(new Date),baseType:ln.dataType,baseData:{message:l.message}};r.track(d)}),u.length=0},c)};function o(s){if(k(s.name))throw a(s),Error("telemetry name required")}function a(s){var c=r.getNotifyMgr();c&&c.eventsDiscarded([s],ns.InvalidEvent)}}),n}return e}(wo)});function Xs(t){t<0&&(t>>>=0),hn=123456789+t&mt,gn=987654321-t&mt,Eo=!0}function Js(){try{var t=ze()&2147483647;Xs((Math.random()*Co^t)+t)}catch{}}function Ys(t){return t>0?Math.floor(Gt()/mt*(t+1))>>>0:0}function Gt(t){var e,n=Jl()||Yl();return n&&n.getRandomValues?e=n.getRandomValues(new Uint32Array(1))[0]&mt:Ar()?(Eo||Js(),e=Zs()&mt):e=Math.floor(Co*Math.random()|0),t||(e>>>=0),e}function sd(t){t?Xs(t):Js()}function Zs(t){gn=36969*(gn&65535)+(gn>>16)&mt,hn=18e3*(hn&65535)+(hn>>16)&mt;var e=(gn<<16)+(hn&65535)>>>0&mt|0;return t||(e>>>=0),e}var Co,mt,Eo,hn,gn,ec=y(()=>{qn(),Te(),Co=4294967296,mt=4294967295,Eo=!1,hn=123456789,gn=987654321});function Kt(t,e){var n=!1,r=Hn();r&&(n=Fn(r,t,e),n=Fn(r.body,t,e)||n);var i=rt();return i&&(n=Gn.Attach(i,t,e)||n),n}function cd(){function t(){return Ys(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(nc,function(e){var n=t()|0,r=e==="x"?n:n&3|8;return r.toString(16)})}function ud(){var t=ht();return t&&t.now?t.now():ze()}function Wr(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Gt()>>>0,r=0,i="";i.length<t;)r++,i+=e.charAt(n&63),n>>>=6,r===5&&(n=(Gt()<<2&4294967295|n&3)>>>0,r=0);return i}function ot(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e="",n,r=0;r<4;r++)n=Gt(),e+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var i=t[8+(Gt()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}function mn(t,e){var n=qs(t,e),r=jr._canUseCookies;return vn===null&&(vn=[],jn=r,cn(jr,"_canUseCookies",function(){return jn},function(i){jn=i,z(vn,function(o){o.setEnabled(i)})})),Un(vn,n)===-1&&vn.push(n),Vi(r)&&n.setEnabled(r),Vi(jn)&&n.setEnabled(jn),n}function tc(){mn().setEnabled(!1)}function ld(t){return mn(null,t).isEnabled()}function dd(t,e){return mn(null,t).get(e)}function fd(t,e,n,r){mn(null,t).set(e,n,null,r)}function pd(t,e){return mn(null,t).del(e)}var vn,jn,jr,nc,Gn,hd=y(()=>{te(),yo(),qn(),Te(),ec(),vn=null,jr={_canUseCookies:void 0,isTypeof:ql,isUndefined:Ae,isNullOrUndefined:k,hasOwnProperty:qi,isFunction:j,isObject:qt,isDate:Bi,isArray:pt,isError:Tr,isString:B,isNumber:zi,isBoolean:Vi,toISOString:Tt,arrForEach:z,arrIndexOf:Un,arrMap:On,arrReduce:fs,strTrim:be,objCreate:yr,objKeys:Bt,objDefineAccessors:cn,addEventHandler:Kt,dateNow:ze,isIE:Ar,disableCookies:tc,newGuid:cd,perfNow:ud,newId:Wr,randomValue:Ys,random32:Gt,mwcRandomSeed:sd,mwcRandom32:Zs,generateW3CId:ot},nc=/[xy]/g,Gn={Attach:Fn,AttachEvent:Fn,Detach:ds,DetachEvent:ds}});function So(t,e){if(t)for(var n=0;n<t.length&&!e(t[n],n);n++);}function To(t,e,n,r,i){i>=0&&i<=2&&So(t,function(o,a){var s=o.cbks,c=s[Ao[i]];if(c){e.ctx=function(){var d=r[a]=r[a]||{};return d};try{c.apply(e.inst,n)}catch(d){var u=e.err;try{var l=s[Ao[2]];l&&(e.err=d,l.apply(e.inst,n))}catch{}finally{e.err=u}}}})}function gd(t){return function(){var e=this,n=arguments,r=t.h,i={name:t.n,inst:e,ctx:null,set:c},o=[],a=s([i],n);function s(l,d){return So(d,function(p){l.push(p)}),l}function c(l,d){n=s([],n),n[l]=d,a=s([i],n)}To(r,i,a,o,0);var u=t.f;try{i.rslt=u.apply(e,n)}catch(l){throw i.err=l,To(r,i,a,o,3),l}return To(r,i,a,o,1),i.rslt}}function md(t){if(t){if(Do)return Do(t);var e=t[ic]||t[Ue]||t[oc];if(e)return e}return null}function rc(t,e,n){var r=null;return t&&(qi(t,e)?r=t:n&&(r=rc(md(t),e,!1))),r}function vd(t,e,n){return t?ko(t[Ue],e,n,!1):null}function ko(t,e,n,r){if(r===void 0&&(r=!0),t&&e&&n){var i=rc(t,e,r);if(i){var o=i[e];if(typeof o===nn){var a=o[Ro];if(!a){a={i:0,n:e,f:o,h:[]};var s=gd(a);s[Ro]=a,i[e]=s}var c={id:a.i,cbks:n,rm:function(){var u=this.id;So(a.h,function(l,d){if(l.id===u)return a.h.splice(d,1),1})}};return a.i++,a.h.push(c),c}}}return null}var Ro,Ao,ic,oc,Do,yd=y(()=>{te(),Te(),Ro="_aiHooks",Ao=["req","rsp","hkErr","fnErr"],ic="__proto__",oc="constructor",Do=Object.getPrototypeOf}),V=y(()=>{ad(),$s(),Ls(),ec(),hd(),Te(),qn(),te(),Qs(),Fr(),to(),Sr(),yd(),yo()}),ie,ac=y(()=>{ie={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function Po(t,e,n){var r=e.length,i=sc(t,e);if(i.length!==r){for(var o=0,a=i;n[a]!==void 0;)o++,a=i.substring(0,150-3)+lc(o);i=a}return i}function sc(t,e){var n;return e&&(e=be(e.toString()),e.length>150&&(n=e.substring(0,150),t.throwInternal(T.WARNING,w.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:e},!0))),n||e}function De(t,e,n){n===void 0&&(n=1024);var r;return e&&(n=n||1024,e=be(e),e.toString().length>n&&(r=e.toString().substring(0,n),t.throwInternal(T.WARNING,w.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:e},!0))),r||e}function Kn(t,e){return Mo(t,e,2048,w.UrlTooLong)}function _o(t,e){var n;return e&&e.length>32768&&(n=e.substring(0,32768),t.throwInternal(T.WARNING,w.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:e},!0)),n||e}function cc(t,e){var n;if(e){var r=""+e;r.length>32768&&(n=r.substring(0,32768),t.throwInternal(T.WARNING,w.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:e},!0))}return n||e}function kt(t,e){if(e){var n={};ve(e,function(r,i){if(qt(i)&&un())try{i=$e().stringify(i)}catch(o){t.throwInternal(T.WARNING,w.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:o},!0)}i=De(t,i,8192),r=Po(t,r,n),n[r]=i}),e=n}return e}function Rt(t,e){if(e){var n={};ve(e,function(r,i){r=Po(t,r,n),n[r]=i}),e=n}return e}function uc(t,e){return e&&Mo(t,e,128,w.IdTooLong).toString()}function Mo(t,e,n,r){var i;return e&&(e=be(e),e.length>n&&(i=e.substring(0,n),t.throwInternal(T.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:e},!0))),i||e}function lc(t){var e="00"+t;return e.substr(e.length-3)}var dc,Qe=y(()=>{V(),dc={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:Po,sanitizeKey:sc,sanitizeString:De,sanitizeUrl:Kn,sanitizeMessage:_o,sanitizeException:cc,sanitizeProperties:kt,sanitizeMeasurements:Rt,sanitizeId:uc,sanitizeInput:Mo,padNumber:lc,trim:be}});function yn(t){var e=null;if(j(Event))e=new Event(t);else{var n=rt();n&&n.createEvent&&(e=n.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var fc=y(()=>{V()});function Z(t,e){return e===void 0&&(e=!1),t==null?e:t.toString().toLowerCase()==="true"}function vt(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=""+t%1e3,n=""+Math.floor(t/1e3)%60,r=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,o=Math.floor(t/(1e3*60*60*24));return e=e.length===1?"00"+e:e.length===2?"0"+e:e,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(o>0?o+".":"")+i+":"+r+":"+n+"."+e}function No(){var t=it();return"sendBeacon"in t&&t.sendBeacon}function pc(t,e){var n=null;return z(t,function(r){if(r.identifier===e)return n=r,-1}),n}function hc(t,e,n,r,i){return!i&&B(t)&&(t==="Script error."||t==="Script error")}var Gr=y(()=>{V()}),$t,Kr,xn,$r,Lo,We,Xe=y(()=>{$t="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Kr="sampleRate",xn="ProcessLegacy",$r="http.method",Lo="https://dc.services.visualstudio.com",We="not_specified"}),Qt,Je,gc=y(()=>{(function(t){t[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage"})(Qt||(Qt={})),function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C"}(Je||(Je={}))});function Fo(){return Oo()?Qr(Qt.LocalStorage):null}function Qr(t){try{if(k(rn()))return null;var e=new Date,n=ke(t===Qt.LocalStorage?"localStorage":"sessionStorage");n.setItem(e.toString(),e.toString());var r=n.getItem(e.toString())!==e.toString();if(n.removeItem(e.toString()),!r)return n}catch{}return null}function Uo(){return wn()?Qr(Qt.SessionStorage):null}function mc(){At=!1,Dt=!1}function Oo(){return At===void 0&&(At=!!Qr(Qt.LocalStorage)),At}function vc(t,e){var n=Fo();if(n!==null)try{return n.getItem(e)}catch(r){At=!1,t.throwInternal(T.WARNING,w.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+X(r),{exception:H(r)})}return null}function yc(t,e,n){var r=Fo();if(r!==null)try{return r.setItem(e,n),!0}catch(i){At=!1,t.throwInternal(T.WARNING,w.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+X(i),{exception:H(i)})}return!1}function xc(t,e){var n=Fo();if(n!==null)try{return n.removeItem(e),!0}catch(r){At=!1,t.throwInternal(T.WARNING,w.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+X(r),{exception:H(r)})}return!1}function wn(){return Dt===void 0&&(Dt=!!Qr(Qt.SessionStorage)),Dt}function xd(){var t=[];return wn()&&ve(ke("sessionStorage"),function(e){t.push(e)}),t}function Xr(t,e){var n=Uo();if(n!==null)try{return n.getItem(e)}catch(r){Dt=!1,t.throwInternal(T.WARNING,w.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+X(r),{exception:H(r)})}return null}function Jr(t,e,n){var r=Uo();if(r!==null)try{return r.setItem(e,n),!0}catch(i){Dt=!1,t.throwInternal(T.WARNING,w.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+X(i),{exception:H(i)})}return!1}function wc(t,e){var n=Uo();if(n!==null)try{return n.removeItem(e),!0}catch(r){Dt=!1,t.throwInternal(T.WARNING,w.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+X(r),{exception:H(r)})}return!1}var At,Dt,bc=y(()=>{V(),gc(),At=void 0,Dt=void 0});function $n(t){var e=Bo,n=Sc,r=n[e];return qo.createElement?n[e]||(r=n[e]=qo.createElement("a")):r={host:Ec(t,!0)},r.href=t,e++,e>=n.length&&(e=0),Bo=e,r}function Ic(t){var e,n=$n(t);return n&&(e=n.href),e}function wd(t){var e,n=$n(t);return n&&(e=n.pathname),e}function Cc(t,e){return t?t.toUpperCase()+" "+e:e}function Ec(t,e){var n=Ho(t,e)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>3&&B(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Ho(t,e){var n=null;if(t){var r=t.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>2&&B(r[2])&&r[2].length>0&&(n=r[2]||"",e&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";(i==="http"&&o===":80"||i==="https"&&o===":443")&&(o=""),n+=o}}return n}var qo,Bo,Sc,Tc=y(()=>{V(),qo=rt()||{},Bo=0,Sc=[null,null,null,null,null]});function Yr(t){return kc.indexOf(t.toLowerCase())!==-1}function bd(t,e,n,r){var i,o=r,a=r;if(e&&e.length>0){var s=$n(e);if(i=s.host,!o)if(s.pathname!=null){var c=s.pathname.length===0?"/":s.pathname;c.charAt(0)!=="/"&&(c="/"+c),a=s.pathname,o=De(t,n?n+" "+c:c)}else o=De(t,e)}else i=r,o=r;return{target:i,name:o,data:a}}function Qn(){var t=ht();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return ze()}function Pe(t,e){var n=null;return t!==0&&e!==0&&!k(t)&&!k(e)&&(n=e-t),n}var kc,zo,Rc,Pt,Ac,Dc=y(()=>{V(),ac(),Qe(),fc(),Gr(),Xe(),bc(),Tc(),kc=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],zo={NotSpecified:We,createDomEvent:yn,disableStorage:mc,isInternalApplicationInsightsEndpoint:Yr,canUseLocalStorage:Oo,getStorage:vc,setStorage:yc,removeStorage:xc,canUseSessionStorage:wn,getSessionStorageKeys:xd,getSessionStorage:Xr,setSessionStorage:Jr,removeSessionStorage:wc,disableCookies:tc,canUseCookies:ld,disallowsSameSiteNone:Gs,setCookie:fd,stringToBoolOrDefault:Z,getCookie:dd,deleteCookie:pd,trim:be,newId:Wr,random32:function(){return Gt(!0)},generateW3CId:ot,isArray:pt,isError:Tr,isDate:Bi,toISOStringForIE8:Tt,getIEVersion:Ji,msToTimeSpan:vt,isCrossOriginError:hc,dump:H,getExceptionName:X,addEventHandler:Fn,IsBeaconApiSupported:No,getExtension:pc},Rc={parseUrl:$n,getAbsoluteUrl:Ic,getPathName:wd,getCompleteUrl:Cc,parseHost:Ec,parseFullHost:Ho},Pt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(t,e,n){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t.correlationHeaderExcludePatterns){for(var r=0;r<t.correlationHeaderExcludePatterns.length;r++)if(t.correlationHeaderExcludePatterns[r].test(e))return!1}var i=$n(e).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(Ho(e,!0)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&i&&i!==n)return!1;var o=t&&t.correlationHeaderDomains;if(o){var a;if(z(o,function(u){var l=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||l.test(i)}),!a)return!1}var s=t&&t.correlationHeaderExcludedDomains;if(!s||s.length===0)return!0;for(var r=0;r<s.length;r++){var c=new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(t){if(t){var e=Pt.getCorrelationContextValue(t,ie.requestContextTargetKey);if(e&&e!==Pt.correlationIdPrefix)return e}},getCorrelationContextValue:function(t,e){if(t)for(var n=t.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(i.length===2&&i[0]===e)return i[1]}}},Ac={Now:Qn,GetDuration:Pe}});function Pc(t){if(!t)return{};var e=t.split(_c),n=fs(e,function(i,o){var a=o.split(Mc);if(a.length===2){var s=a[0].toLowerCase(),c=a[1];i[s]=c}return i},{});if(Bt(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||Lo}return n}var _c,Mc,Nc,Id=y(()=>{Xe(),V(),_c=";",Mc="=",Nc={parse:Pc}}),Vo,Lc=y(()=>{Vo=function(){function t(){}return t}()}),Wo,Fc=y(()=>{te(),Lc(),Wo=function(t){J(e,t);function e(){return t.call(this)||this}return e}(Vo)}),Uc,Cd=y(()=>{Uc=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}()}),jo,Ed=y(()=>{te(),Cd(),Qe(),V(),Xe(),jo=function(t){J(e,t);function e(n,r,i){var o=t.call(this)||this;return o.name=De(n,i)||We,o.data=r,o.time=Tt(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1},o}return e}(Uc)}),Go,Oc=y(()=>{Go=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()}),Ye,Sd=y(()=>{te(),Oc(),Qe(),Xe(),Ye=function(t){J(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.aiDataContract={ver:1,name:1,properties:0,measurements:0},a.name=De(n,r)||We,a.properties=kt(n,i),a.measurements=Rt(n,o),a}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(Go)}),Hc,Td=y(()=>{Hc=function(){function t(){}return t}()}),qc,kd=y(()=>{qc=function(){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return t}()}),Bc,Rd=y(()=>{Bc=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}()});function Ko(t,e){var n=t;return n&&!B(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(t),e&&(!n||n==="{}")&&(j(t.toString)?n=t.toString():n=""+t)):n=""+t+" - (Missing JSON.stringify)"),n||""}function zc(t,e){var n=t;return t&&(n=t[ti]||t[Xo]||"",n&&!B(n)&&(n=Ko(n,!0)),t.filename&&(n=n+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&(n||"").indexOf(e)===-1&&(n=e+": "+n),n||""}function Ad(t){return qt(t)?"hasFullStack"in t&&"typeName"in t:!1}function Dd(t){return qt(t)?"ver"in t&&"exceptions"in t&&"properties"in t:!1}function Vc(t){return t&&t.src&&B(t.src)&&t.obj&&pt(t.obj)}function bn(t){var e=t||"";B(e)||(B(e[Oe])?e=e[Oe]:e=""+e);var n=e.split(`
`);return{src:e,obj:n}}function Pd(t){for(var e=[],n=t.split(`
`),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),e.push(i)}return{src:t,obj:e}}function Wc(t){var e=null;if(t)try{if(t[Oe])e=bn(t[Oe]);else if(t[Xt]&&t[Xt][Oe])e=bn(t[Xt][Oe]);else if(t.exception&&t.exception[Oe])e=bn(t.exception[Oe]);else if(Vc(t))e=t;else if(Vc(t[ei]))e=t[ei];else if(window.opera&&t[ti])e=Pd(t.message);else if(B(t))e=bn(t);else{var n=t[ti]||t[Xo]||"";B(t[Qo])&&(n&&(n+=`
`),n+=" from "+t[Qo]),n&&(e=bn(n))}}catch(r){e=bn(r)}return e||{src:"",obj:null}}function _d(t){var e="";return t&&(t.obj?z(t.obj,function(n){e+=n+`
`}):e=t.src||""),e}function Md(t){var e,n=t.obj;if(n&&n.length>0){e=[];var r=0,i=0;z(n,function(I){var S=I.toString();if(ni.regex.test(S)){var f=new ni(S,r++);i+=f.sizeInBytes,e.push(f)}});var o=32*1024;if(i>o)for(var a=0,s=e.length-1,c=0,u=a,l=s;a<s;){var d=e[a].sizeInBytes,p=e[s].sizeInBytes;if(c+=d+p,c>o){var x=l-u+1;e.splice(u,x);break}u=a,l=s,a++,s--}}return e}function Zr(t){var e="";if(t&&(e=t.typeName||t.name||"",!e))try{var n=/function (.{1,200})\(/,r=n.exec(t.constructor.toString());e=r&&r.length>1?r[1]:""}catch{}return e}function $o(t){if(t)try{if(!B(t)){var e=Zr(t),n=Ko(t,!1);return(!n||n==="{}")&&(t[Xt]&&(t=t[Xt],e=Zr(t)),n=Ko(t,!0)),n.indexOf(e)!==0&&e!=="String"?e+":"+n:n}}catch{}return""+(t||"")}var jc,Xt,Oe,ei,Qo,ti,Xo,_e,Jo,ni,Nd=y(()=>{te(),Td(),kd(),Rd(),Qe(),V(),Xe(),jc="<no_method>",Xt="error",Oe="stack",ei="stackDetails",Qo="errorSrc",ti="message",Xo="description",_e=function(t){J(e,t);function e(n,r,i,o,a,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},Dd(r)?(c.exceptions=r.exceptions,c.properties=r.properties,c.measurements=r.measurements,r.severityLevel&&(c.severityLevel=r.severityLevel),r.id&&(c.id=r.id),r.problemGroup&&(c.problemGroup=r.problemGroup),c.ver=2,k(r.isManual)||(c.isManual=r.isManual)):(i||(i={}),c.exceptions=[new Jo(n,r,i)],c.properties=kt(n,i),c.measurements=Rt(n,o),a&&(c.severityLevel=a),s&&(c.id=s)),c}return e.CreateAutoException=function(n,r,i,o,a,s,c,u){var l=Zr(a||s||n);return{message:zc(n,l),url:r,lineNumber:i,columnNumber:o,error:$o(a||s||n),evt:$o(s||n),typeName:l,stackDetails:Wc(c||a||s),errorSrc:u}},e.CreateFromInterface=function(n,r,i,o){var a=r.exceptions&&On(r.exceptions,function(c){return Jo.CreateFromInterface(n,c)}),s=new e(n,on({},r,{exceptions:a}),i,o);return s},e.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,o=n.measurements,a=n.severityLevel,s=n.ver,c=n.problemGroup,u=n.id,l=n.isManual,d=r instanceof Array&&On(r,function(p){return p.toInterface()})||void 0;return{ver:"4.0",exceptions:d,severityLevel:a,properties:i,measurements:o,problemGroup:c,id:u,isManual:l}},e.CreateSimpleException=function(n,r,i,o,a,s){return{exceptions:[{hasFullStack:!0,message:n,stack:a,typeName:r}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=$o,e}(qc),Jo=function(t){J(e,t);function e(n,r,i){var o=t.call(this)||this;if(o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},Ad(r))o.typeName=r.typeName,o.message=r.message,o[Oe]=r[Oe],o.parsedStack=r.parsedStack,o.hasFullStack=r.hasFullStack;else{var a=r,s=a&&a.evt;Tr(a)||(a=a[Xt]||s||a),o.typeName=De(n,Zr(a))||We,o.message=_o(n,zc(r||a,o.typeName))||We;var c=r[ei]||Wc(r);o.parsedStack=Md(c),o[Oe]=cc(n,_d(c)),o.hasFullStack=pt(o.parsedStack)&&o.parsedStack.length>0,i&&(i.typeName=i.typeName||o.typeName)}return o}return e.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&On(this.parsedStack,function(i){return i.toInterface()}),r={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Oe],parsedStack:n||void 0};return r},e.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&On(r.parsedStack,function(a){return ni.CreateFromInterface(a)})||r.parsedStack,o=new e(n,on({},r,{parsedStack:i}));return o},e}(Bc),ni=function(t){J(e,t);function e(n,r){var i=t.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof n=="string"){var o=n;i.level=r,i.method=jc,i.assembly=be(o),i.fileName="",i.line=0;var a=o.match(e.regex);a&&a.length>=5&&(i.method=be(a[2])||i.method,i.fileName=be(a[4]),i.line=parseInt(a[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=e.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return e.CreateFromInterface=function(n){return new e(n,null)},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(Hc)}),Gc,Ld=y(()=>{Gc=function(){function t(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return t}()}),Yo,Fd=y(()=>{(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(Yo||(Yo={}))}),Kc,Ud=y(()=>{Fd(),Kc=function(){function t(){this.kind=Yo.Measurement}return t}()}),$c,Od=y(()=>{te(),Ud(),$c=function(t){J(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return e}(Kc)}),at,Hd=y(()=>{te(),Ld(),Qe(),Od(),Xe(),at=function(t){J(e,t);function e(n,r,i,o,a,s,c,u){var l=t.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var d=new $c;return d.count=o>0?o:void 0,d.max=isNaN(s)||s===null?void 0:s,d.min=isNaN(a)||a===null?void 0:a,d.name=De(n,r)||We,d.value=i,l.metrics=[d],l.properties=kt(n,c),l.measurements=Rt(n,u),l}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(Gc)}),ri,Zo=y(()=>{te(),Oc(),ri=function(t){J(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(Go)}),Ze,qd=y(()=>{te(),Zo(),Qe(),Gr(),Xe(),Ze=function(t){J(e,t);function e(n,r,i,o,a,s,c){var u=t.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},u.id=uc(n,c),u.url=Kn(n,i),u.name=De(n,r)||We,isNaN(o)||(u.duration=vt(o)),u.properties=kt(n,a),u.measurements=Rt(n,s),u}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(ri)}),Qc,Bd=y(()=>{Qc=function(){function t(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return t}()}),st,zd=y(()=>{te(),Qe(),Dc(),Bd(),Gr(),st=function(t){J(e,t);function e(n,r,i,o,a,s,c,u,l,d,p,x){l===void 0&&(l="Ajax");var I=t.call(this)||this;I.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},I.id=r,I.duration=vt(a),I.success=s,I.resultCode=c+"",I.type=De(n,l);var S=bd(n,i,u,o);return I.data=Kn(n,o)||S.data,I.target=De(n,S.target),d&&(I.target=I.target+" | "+d),I.name=De(n,S.name),I.properties=kt(n,p),I.measurements=Rt(n,x),I}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(Qc)}),Xc,Vd=y(()=>{Xc=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()}),yt,Wd=y(()=>{te(),Vd(),Qe(),Xe(),yt=function(t){J(e,t);function e(n,r,i,o,a){var s=t.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||We,s.message=_o(n,r),s.properties=kt(n,o),s.measurements=Rt(n,a),i&&(s.severityLevel=i),s}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(Xc)}),Jc,jd=y(()=>{te(),Zo(),Jc=function(t){J(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(ri)}),xt,Gd=y(()=>{te(),jd(),Qe(),Xe(),xt=function(t){J(e,t);function e(n,r,i,o,a,s,c){var u=t.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},u.url=Kn(n,i),u.name=De(n,r)||We,u.properties=kt(n,a),u.measurements=Rt(n,s),c&&(u.domProcessing=c.domProcessing,u.duration=c.duration,u.networkConnect=c.networkConnect,u.perfTotal=c.perfTotal,u.receivedResponse=c.receivedResponse,u.sentRequest=c.sentRequest),u}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(Jc)}),wt,Kd=y(()=>{te(),Fc(),wt=function(t){J(e,t);function e(n,r){var i=t.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return e}(Wo)}),Xn,$d=y(()=>{(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(Xn||(Xn={}))}),Yc,Qd=y(()=>{V(),Yc=function(){function t(){}return t.getConfig=function(e,n,r,i){i===void 0&&(i=!1);var o;return r&&e.extensionConfig&&e.extensionConfig[r]&&!k(e.extensionConfig[r][n])?o=e.extensionConfig[r][n]:o=e[n],k(o)?i:o},t}()});function _t(t){var e="ai."+t+".";return function(n){return e+n}}var In,fe,Jn,Jt,ii,bt,Mt,Cn,oi,Zc=y(()=>{te(),V(),In=_t("application"),fe=_t("device"),Jn=_t("location"),Jt=_t("operation"),ii=_t("session"),bt=_t("user"),Mt=_t("cloud"),Cn=_t("internal"),oi=function(t){J(e,t);function e(){return t.call(this)||this}return e}(Wl({applicationVersion:In("ver"),applicationBuild:In("build"),applicationTypeId:In("typeId"),applicationId:In("applicationId"),applicationLayer:In("layer"),deviceId:fe("id"),deviceIp:fe("ip"),deviceLanguage:fe("language"),deviceLocale:fe("locale"),deviceModel:fe("model"),deviceFriendlyName:fe("friendlyName"),deviceNetwork:fe("network"),deviceNetworkName:fe("networkName"),deviceOEMName:fe("oemName"),deviceOS:fe("os"),deviceOSVersion:fe("osVersion"),deviceRoleInstance:fe("roleInstance"),deviceRoleName:fe("roleName"),deviceScreenResolution:fe("screenResolution"),deviceType:fe("type"),deviceMachineName:fe("machineName"),deviceVMName:fe("vmName"),deviceBrowser:fe("browser"),deviceBrowserVersion:fe("browserVersion"),locationIp:Jn("ip"),locationCountry:Jn("country"),locationProvince:Jn("province"),locationCity:Jn("city"),operationId:Jt("id"),operationName:Jt("name"),operationParentId:Jt("parentId"),operationRootId:Jt("rootId"),operationSyntheticSource:Jt("syntheticSource"),operationCorrelationVector:Jt("correlationVector"),sessionId:ii("id"),sessionIsFirst:ii("isFirst"),sessionIsNew:ii("isNew"),userAccountAcquisitionDate:bt("accountAcquisitionDate"),userAccountId:bt("accountId"),userAgent:bt("userAgent"),userId:bt("id"),userStoreRegion:bt("storeRegion"),userAuthUserId:bt("authUserId"),userAnonymousUserAcquisitionDate:bt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:bt("authUserAcquisitionDate"),cloudName:Mt("name"),cloudRole:Mt("role"),cloudRoleVer:Mt("roleVer"),cloudRoleInstance:Mt("roleInstance"),cloudEnvironment:Mt("environment"),cloudLocation:Mt("location"),cloudDeploymentUnit:Mt("deploymentUnit"),internalNodeName:Cn("nodeName"),internalSdkVersion:Cn("sdkVersion"),internalAgentVersion:Cn("agentVersion"),internalSnippet:Cn("snippet"),internalSdkSrc:Cn("sdkSrc")}))}),ct,Xd=y(()=>{Qe(),V(),Xe(),ct=function(){function t(){}return t.create=function(e,n,r,i,o,a){if(r=De(i,r)||We,k(e)||k(n)||k(r))throw Error("Input doesn't contain all required fields");var s={name:r,time:Tt(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:n,baseData:e};return k(o)||ve(o,function(c,u){s.data[c]=u}),s},t}()}),Me,ne,Jd=y(()=>{Zc(),Me={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ne=new oi}),En,ai,ea,ye=y(()=>{Dc(),Id(),ac(),Xe(),Fc(),Lc(),Ed(),Sd(),Nd(),Hd(),qd(),Zo(),zd(),Wd(),Gd(),Kd(),$d(),Qd(),Zc(),Qe(),Xd(),Jd(),gc(),Gr(),fc(),bc(),Tc(),En="AppInsightsPropertiesPlugin",ai="AppInsightsChannelPlugin",ea="ApplicationInsightsAnalytics"}),eu,Yd=y(()=>{ye(),V(),we(),eu=function(){function t(e,n,r,i){de(t,this,function(o){var a=null,s=[],c=!1,u;r&&(u=r.logger);function l(){r&&z(r.getTransmissionControls(),function(p){z(p,function(x){return x.flush(!0)})})}function d(p){s.push(p),a||(a=setInterval(function(){var x=s.slice(0),I=!1;s=[],z(x,function(S){S()?I=!0:s.push(S)}),s.length===0&&(clearInterval(a),a=null),I&&l()},100))}o.trackPageView=function(p,x){var I=p.name;if(k(I)||typeof I!="string"){var S=rt();I=p.name=S&&S.title||""}var f=p.uri;if(k(f)||typeof f!="string"){var m=zt();f=p.uri=m&&m.href||""}if(!i.isPerformanceTimingSupported()){e.sendPageViewInternal(p,x),l(),u.throwInternal(T.WARNING,w.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var v=!1,C,N=i.getPerformanceTiming().navigationStart;N>0&&(C=Pe(N,+new Date),i.shouldCollectDuration(C)||(C=void 0));var P;!k(x)&&!k(x.duration)&&(P=x.duration),(n||!isNaN(P))&&(isNaN(P)&&(x||(x={}),x.duration=C),e.sendPageViewInternal(p,x),l(),v=!0);var K=6e4;x||(x={}),d(function(){var ge=!1;try{if(i.isPerformanceTimingDataReady()){ge=!0;var W={name:I,uri:f};i.populatePageViewPerformanceEvent(W),!W.isValid&&!v?(x.duration=C,e.sendPageViewInternal(p,x)):(v||(x.duration=W.durationMs,e.sendPageViewInternal(p,x)),c||(e.sendPageViewPerformanceInternal(W,x),c=!0))}else N>0&&Pe(N,+new Date)>K&&(ge=!0,v||(x.duration=K,e.sendPageViewInternal(p,x)))}catch(le){u.throwInternal(T.CRITICAL,w.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+X(le),{exception:H(le)})}return ge})}})}return t}()}),tu,nu,Zd=y(()=>{ye(),V(),tu=function(){function t(e,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=e}return t.prototype.trackPreviousPageVisit=function(e,n){try{var r=this.restartPageVisitTimer(e,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+H(i))}},t.prototype.restartPageVisitTimer=function(e,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(e,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+H(i)),null}},t.prototype.startPageVisitTimer=function(e,n){try{if(wn()){Xr(this._logger,this.prevPageVisitDataKeyName)!=null&&nt("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new nu(e,n),i=$e().stringify(r);Jr(this._logger,this.prevPageVisitDataKeyName,i)}}catch(o){this._logger.warnToConsole("Call to start failed: "+H(o))}},t.prototype.stopPageVisitTimer=function(){try{if(wn()){var e=ze(),n=Xr(this._logger,this.prevPageVisitDataKeyName);if(n&&un()){var r=$e().parse(n);return r.pageVisitTime=e-r.pageVisitStartTime,wc(this._logger,this.prevPageVisitDataKeyName),r}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+H(i)),null}},t}(),nu=function(){function t(e,n){this.pageVisitStartTime=ze(),this.pageName=e,this.pageUrl=n}return t}()}),ru,ef=y(()=>{ye(),V(),ru=function(){function t(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return t.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,o=0,a=0,s=0,c=0;(n||r)&&(n?(i=n.duration,o=n.startTime===0?n.connectEnd:Pe(n.startTime,n.connectEnd),a=Pe(n.requestStart,n.responseStart),s=Pe(n.responseStart,n.responseEnd),c=Pe(n.responseEnd,n.loadEventEnd)):(i=Pe(r.navigationStart,r.loadEventEnd),o=Pe(r.navigationStart,r.connectEnd),a=Pe(r.requestStart,r.responseStart),s=Pe(r.responseStart,r.responseEnd),c=Pe(r.responseEnd,r.loadEventEnd)),i===0?this._logger.throwInternal(T.WARNING,w.ErrorPVCalc,"error calculating page view performance.",{total:i,network:o,request:a,response:s,dom:c}):this.shouldCollectDuration(i,o,a,s,c)?i<Math.floor(o)+Math.floor(a)+Math.floor(s)+Math.floor(c)?this._logger.throwInternal(T.WARNING,w.ClientPerformanceMathError,"client performance math error.",{total:i,network:o,request:a,response:s,dom:c}):(e.durationMs=i,e.perfTotal=e.duration=vt(i),e.networkConnect=vt(o),e.sentRequest=vt(a),e.receivedResponse=vt(s),e.domProcessing=vt(c),e.isValid=!0):this._logger.throwInternal(T.WARNING,w.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:o,request:a,response:s,dom:c}))},t.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?ht().timing:null},t.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?ht().getEntriesByType("navigation")[0]:null},t.prototype.isPerformanceNavigationTimingSupported=function(){var e=ht();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},t.prototype.isPerformanceTimingSupported=function(){var e=ht();return e&&e.timing},t.prototype.isPerformanceTimingDataReady=function(){var e=ht(),n=e?e.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},t.prototype.shouldCollectDuration=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=it()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],o=r.userAgent,a=!1;if(o)for(var s=0;s<i.length;s++)a=a||o.toLowerCase().indexOf(i[s])!==-1;if(a)return!1;for(var s=0;s<e.length;s++)if(e[s]<0||e[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},t}()});function Yn(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}var ta,si,na,ra,tf=y(()=>{te(),ye(),V(),Yd(),Zd(),ef(),we(),ta="duration",si="event",na=function(t){J(e,t);function e(){var n=t.call(this)||this;n.identifier=ea,n.priority=180,n.autoRoutePVDelay=500;var r,i,o,a=0,s,c;return de(e,n,function(u,l){var d=zt(!0);s=d&&d.href||"",u.getCookieMgr=function(){return lo(u.core)},u.processTelemetry=function(f,m){dn(u.core,function(){return u.identifier+":processTelemetry"},function(){var v=!1,C=u._telemetryInitializers.length;m=u._getTelCtx(m);for(var N=0;N<C;++N){var P=u._telemetryInitializers[N];if(P)try{if(P.apply(null,[f])===!1){v=!0;break}}catch(K){m.diagLog().throwInternal(T.CRITICAL,w.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+X(K),{exception:H(K)},!0)}}v||u.processNext(f,m)},function(){return{item:f}},!f.sync)},u.trackEvent=function(f,m){try{var v=ct.create(f,Ye.dataType,Ye.envelopeType,u.diagLog(),m);u.core.track(v)}catch(C){u.diagLog().throwInternal(T.WARNING,w.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+X(C),{exception:H(C)})}},u.startTrackEvent=function(f){try{r.start(f)}catch(m){u.diagLog().throwInternal(T.CRITICAL,w.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+X(m),{exception:H(m)})}},u.stopTrackEvent=function(f,m,v){try{r.stop(f,void 0,m)}catch(C){u.diagLog().throwInternal(T.CRITICAL,w.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+X(C),{exception:H(C)})}},u.trackTrace=function(f,m){try{var v=ct.create(f,yt.dataType,yt.envelopeType,u.diagLog(),m);u.core.track(v)}catch(C){u.diagLog().throwInternal(T.WARNING,w.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+X(C),{exception:H(C)})}},u.trackMetric=function(f,m){try{var v=ct.create(f,at.dataType,at.envelopeType,u.diagLog(),m);u.core.track(v)}catch(C){u.diagLog().throwInternal(T.CRITICAL,w.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+X(C),{exception:H(C)})}},u.trackPageView=function(f,m){try{var v=f||{};u._pageViewManager.trackPageView(v,on({},v.properties,v.measurements,m)),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(v.name,v.uri)}catch(C){u.diagLog().throwInternal(T.CRITICAL,w.TrackPVFailed,"trackPageView failed, page view will not be collected: "+X(C),{exception:H(C)})}},u.sendPageViewInternal=function(f,m,v){var C=rt();C&&(f.refUri=f.refUri===void 0?C.referrer:f.refUri);var N=ct.create(f,Ze.dataType,Ze.envelopeType,u.diagLog(),m,v);u.core.track(N),a=0},u.sendPageViewPerformanceInternal=function(f,m,v){var C=ct.create(f,xt.dataType,xt.envelopeType,u.diagLog(),m,v);u.core.track(C)},u.trackPageViewPerformance=function(f,m){try{u._pageViewPerformanceManager.populatePageViewPerformanceEvent(f),u.sendPageViewPerformanceInternal(f,m)}catch(v){u.diagLog().throwInternal(T.CRITICAL,w.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+X(v),{exception:H(v)})}},u.startTrackPage=function(f){try{if(typeof f!="string"){var m=rt();f=m&&m.title||""}i.start(f)}catch(v){u.diagLog().throwInternal(T.CRITICAL,w.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+X(v),{exception:H(v)})}},u.stopTrackPage=function(f,m,v,C){try{if(typeof f!="string"){var N=rt();f=N&&N.title||""}if(typeof m!="string"){var P=zt();m=P&&P.href||""}i.stop(f,m,v,C),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(f,m)}catch(K){u.diagLog().throwInternal(T.CRITICAL,w.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+X(K),{exception:H(K)})}},u.sendExceptionInternal=function(f,m,v){var C=f.exception||f.error||new Error(We),N=new _e(u.diagLog(),C,f.properties||m,f.measurements,f.severityLevel,f.id).toInterface(),P=ct.create(N,_e.dataType,_e.envelopeType,u.diagLog(),m,v);u.core.track(P)},u.trackException=function(f,m){try{u.sendExceptionInternal(f,m)}catch(v){u.diagLog().throwInternal(T.CRITICAL,w.TrackExceptionFailed,"trackException failed, exception will not be collected: "+X(v),{exception:H(v)})}},u._onerror=function(f){var m=f&&f.error,v=f&&f.evt;try{if(!v){var C=Hn();C&&(v=C[si])}var N=f&&f.url||(rt()||{}).URL,P=f.errorSrc||"window.onerror@"+N+":"+(f.lineNumber||0)+":"+(f.columnNumber||0),K={errorSrc:P,url:N,lineNumber:f.lineNumber||0,columnNumber:f.columnNumber||0,message:f.message};hc(f.message,f.url,f.lineNumber,f.columnNumber,f.error)?S(_e.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",N,f.lineNumber||0,f.columnNumber||0,m,v,null,P),K):(f.errorSrc||(f.errorSrc=P),u.trackException({exception:f,severityLevel:Xn.Error},K))}catch(W){var ge=m?m.name+", "+m.message:"null";u.diagLog().throwInternal(T.CRITICAL,w.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+X(W),{exception:H(W),errorString:ge})}},u.addTelemetryInitializer=function(f){u._telemetryInitializers.push(f)},u.initialize=function(f,m,v,C){if(!u.isInitialized()){if(k(m))throw Error("Error initializing");l.initialize(f,m,v,C),u.setInitialized(!1);var N=u._getTelCtx(),P=u.identifier;u.config=N.getExtCfg(P);var K=e.getDefaultConfig(f);K!==void 0&&ve(K,function(R,L){u.config[R]=N.getConfig(P,R,L),u.config[R]===void 0&&(u.config[R]=L)}),u.config.isStorageUseDisabled&&mc();var ge={instrumentationKey:function(){return f.instrumentationKey},accountId:function(){return u.config.accountId||f.accountId},sessionRenewalMs:function(){return u.config.sessionRenewalMs||f.sessionRenewalMs},sessionExpirationMs:function(){return u.config.sessionExpirationMs||f.sessionExpirationMs},sampleRate:function(){return u.config.samplingPercentage||f.samplingPercentage},sdkExtension:function(){return u.config.sdkExtension||f.sdkExtension},isBrowserLinkTrackingEnabled:function(){return u.config.isBrowserLinkTrackingEnabled||f.isBrowserLinkTrackingEnabled},appId:function(){return u.config.appId||f.appId}};u._pageViewPerformanceManager=new ru(u.core),u._pageViewManager=new eu(n,u.config.overridePageViewDuration,u.core,u._pageViewPerformanceManager),u._pageVisitTimeManager=new tu(u.diagLog(),function(R,L,F){return p(R,L,F)}),u._telemetryInitializers=u._telemetryInitializers||[],x(ge),r=new ra(u.diagLog(),"trackEvent"),r.action=function(R,L,F,q){q||(q={}),q[ta]=F.toString(),u.trackEvent({name:R,properties:q})},i=new ra(u.diagLog(),"trackPageView"),i.action=function(R,L,F,q,$){k(q)&&(q={}),q[ta]=F.toString();var re={name:R,uri:L,properties:q,measurements:$};u.sendPageViewInternal(re,q)};var W=Hn(),le=Ql(),Ce=zt(!0),Ge=n;if(u.config.disableExceptionTracking===!1&&!u.config.autoExceptionInstrumented&&W){var qe="onerror",Ke=W[qe];W.onerror=function(R,L,F,q,$){var re=W[si],Ct=Ke&&Ke(R,L,F,q,$);return Ct!==!0&&Ge._onerror(_e.CreateAutoException(R,L,F,q,$,re)),Ct},u.config.autoExceptionInstrumented=!0}if(u.config.disableExceptionTracking===!1&&u.config.enableUnhandledPromiseRejectionTracking===!0&&!u.config.autoUnhandledPromiseInstrumented&&W){var h="onunhandledrejection",b=W[h];W[h]=function(R){var L=W[si],F=b&&b.call(W,R);return F!==!0&&Ge._onerror(_e.CreateAutoException(R.reason.toString(),Ce?Ce.href:"",0,0,R,L)),F},u.config.autoUnhandledPromiseInstrumented=!0}if(u.config.enableAutoRouteTracking===!0&&le&&j(le.pushState)&&j(le.replaceState)&&W&&typeof Event!="undefined"){var A=n;z(v,function(R){R.identifier===En&&(o=R)}),le.pushState=function(R){return function(){var L=R.apply(this,arguments);return Yn(W,yn(A.config.namePrefix+"pushState")),Yn(W,yn(A.config.namePrefix+"locationchange")),L}}(le.pushState),le.replaceState=function(R){return function(){var L=R.apply(this,arguments);return Yn(W,yn(A.config.namePrefix+"replaceState")),Yn(W,yn(A.config.namePrefix+"locationchange")),L}}(le.replaceState),W.addEventListener&&(W.addEventListener(A.config.namePrefix+"popstate",function(){Yn(W,yn(A.config.namePrefix+"locationchange"))}),W.addEventListener(A.config.namePrefix+"locationchange",function(){if(o&&o.context&&o.context.telemetryTrace){o.context.telemetryTrace.traceID=ot();var R="_unknown_";Ce&&Ce.pathname&&(R=Ce.pathname+(Ce.hash||"")),o.context.telemetryTrace.name=R}c&&(s=c),c=Ce&&Ce.href||"",setTimeout(function(L){A.trackPageView({refUri:L,properties:{duration:0}})}.bind(n,s),A.autoRoutePVDelay)}))}u.setInitialized(!0)}};function p(f,m,v){var C={PageName:f,PageUrl:m};u.trackMetric({name:"PageVisitTime",average:v,max:v,min:v,sampleCount:1},C)}function x(f){if(!f.isBrowserLinkTrackingEnabled()){var m=["/browserLinkSignalR/","/__browserLink/"],v=function(C){if(C.baseType===st.dataType){var N=C.baseData;if(N){for(var P=0;P<m.length;P++)if(N.target&&N.target.indexOf(m[P])>=0)return!1}}return!0};I(v)}}function I(f){u._telemetryInitializers.push(f)}function S(f,m){var v=ct.create(f,_e.dataType,_e.envelopeType,u.diagLog(),m);u.core.track(v)}}),n}return e.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=30*60*1e3,n.sessionExpirationMs=24*60*60*1e3,n.disableExceptionTracking=Z(n.disableExceptionTracking),n.autoTrackPageVisitTime=Z(n.autoTrackPageVisitTime),n.overridePageViewDuration=Z(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=Z(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=Z(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=Z(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=Z(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=Z(n.enableDebug),n.disableFlushOnBeforeUnload=Z(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=Z(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},e.Version="2.6.4",e}(jt),ra=function(){function t(e,n){var r=this,i={};r.start=function(o){typeof i[o]!="undefined"&&e.throwInternal(T.WARNING,w.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:o,key:o},!0),i[o]=+new Date},r.stop=function(o,a,s,c){var u=i[o];if(isNaN(u))e.throwInternal(T.WARNING,w.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:o,key:o},!0);else{var l=+new Date,d=Pe(u,l);r.action(o,a,d,s,c)}delete i[o],i[o]=void 0}}return t}()}),iu=y(()=>{tf()}),ou,au,nf=y(()=>{ye(),V(),we(),ou=function(){function t(e){var n=[];de(t,this,function(r){r.enqueue=function(i){n.push(i)},r.count=function(){return n.length},r.clear=function(){n.length=0},r.getItems=function(){return n.slice(0)},r.batchPayloads=function(i){if(i&&i.length>0){var o=e.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return o}return null},r.markAsSent=function(i){r.clear()},r.clearSent=function(i){}})}return t}(),au=function(){function t(e,n){var r=!1,i;de(t,this,function(o){var a=u(t.BUFFER_KEY),s=u(t.SENT_BUFFER_KEY);i=a.concat(s),i.length>t.MAX_BUFFER_SIZE&&(i.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,[]),l(t.BUFFER_KEY,i),o.enqueue=function(d){if(i.length>=t.MAX_BUFFER_SIZE){r||(e.throwInternal(T.WARNING,w.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),r=!0);return}i.push(d),l(t.BUFFER_KEY,i)},o.count=function(){return i.length},o.clear=function(){i=[],l(t.BUFFER_KEY,[]),l(t.SENT_BUFFER_KEY,[]),r=!1},o.getItems=function(){return i.slice(0)},o.batchPayloads=function(d){if(d&&d.length>0){var p=n.emitLineDelimitedJson()?d.join(`
`):"["+d.join(",")+"]";return p}return null},o.markAsSent=function(d){i=c(d,i),l(t.BUFFER_KEY,i);var p=u(t.SENT_BUFFER_KEY);p instanceof Array&&d instanceof Array&&(p=p.concat(d),p.length>t.MAX_BUFFER_SIZE&&(e.throwInternal(T.CRITICAL,w.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+p.length,!0),p.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,p))},o.clearSent=function(d){var p=u(t.SENT_BUFFER_KEY);p=c(d,p),l(t.SENT_BUFFER_KEY,p)};function c(d,p){var x=[];return z(p,function(I){!j(I)&&Un(d,I)===-1&&x.push(I)}),x}function u(d){var p=d;try{p=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+p:p;var x=Xr(e,p);if(x){var I=$e().parse(x);if(B(I)&&(I=$e().parse(I)),I&&pt(I))return I}}catch(S){e.throwInternal(T.CRITICAL,w.FailedToRestoreStorageBuffer," storage key: "+p+", "+X(S),{exception:H(S)})}return[]}function l(d,p){var x=d;try{x=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+x:x;var I=JSON.stringify(p);Jr(e,x,I)}catch(S){Jr(e,x,JSON.stringify([])),e.throwInternal(T.WARNING,w.FailedToSetStorageBuffer," storage key: "+x+", "+X(S)+". Buffer cleared",{exception:H(S)})}}})}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}()});function pe(t,e,n){return G(t,e,n,Wi)}var ci,oe,xe,ia,ce,su,oa,cu,uu,lu,du,fu,rf=y(()=>{te(),ye(),V(),ci="baseType",oe="baseData",xe="properties",ia="true",ce=function(){function t(){}return t.extractPropsAndMeasurements=function(e,n,r){k(e)||ve(e,function(i,o){zi(o)?r[i]=o:B(o)?n[i]=o:un()&&(n[i]=$e().stringify(o))})},t.createEnvelope=function(e,n,r,i){var o=new jo(e,i,n);pe(o,"sampleRate",r[Kr]),(r[oe]||{}).startTime&&(o.time=Tt(r[oe].startTime)),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),t.extractPartAExtensions(r,o),r.tags=r.tags||[],gs(o)},t.extractPartAExtensions=function(e,n){var r=n.tags=n.tags||{},i=e.ext=e.ext||{},o=e.tags=e.tags||[],a=i.user;a&&(pe(r,ne.userAuthUserId,a.authId),pe(r,ne.userId,a.id||a.localId));var s=i.app;s&&pe(r,ne.sessionId,s.sesId);var c=i.device;c&&(pe(r,ne.deviceId,c.id||c.localId),pe(r,ne.deviceType,c.deviceClass),pe(r,ne.deviceIp,c.ip),pe(r,ne.deviceModel,c.model),pe(r,ne.deviceType,c.deviceType));var u=e.ext.web;if(u){pe(r,ne.deviceLanguage,u.browserLang),pe(r,ne.deviceBrowserVersion,u.browserVer),pe(r,ne.deviceBrowser,u.browser);var l=n.data=n.data||{},d=l[oe]=l[oe]||{},p=d[xe]=d[xe]||{};pe(p,"domain",u.domain),pe(p,"isManual",u.isManual?ia:null),pe(p,"screenRes",u.screenRes),pe(p,"userConsent",u.userConsent?ia:null)}var x=i.os;x&&pe(r,ne.deviceOS,x.name);var I=i.trace;I&&(pe(r,ne.operationParentId,I.parentID),pe(r,ne.operationName,I.name),pe(r,ne.operationId,I.traceID));for(var S={},f=o.length-1;f>=0;f--){var m=o[f];ve(m,function(C,N){S[C]=N}),o.splice(f,1)}ve(o,function(C,N){S[C]=N});var v=on({},r,S);v[ne.internalSdkVersion]||(v[ne.internalSdkVersion]="javascript:"+t.Version),n.tags=gs(v)},t.prototype.Init=function(e,n){this._logger=e,k(n[oe])&&this._logger.throwInternal(T.CRITICAL,w.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},t.Version="2.6.4",t}(),su=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[oe].measurements||{},o=r[oe][xe]||{};ce.extractPropsAndMeasurements(r.data,o,i);var a=r[oe];if(k(a))return n.warnToConsole("Invalid input for dependency data"),null;var s=a[xe]&&a[xe][$r]?a[xe][$r]:"GET",c=new st(n,a.id,a.target,a.name,a.duration,a.success,a.responseCode,s,a.type,a.correlationContext,o,i),u=new wt(st.dataType,c);return ce.createEnvelope(n,st.envelopeType,r,u)},e.DependencyEnvelopeCreator=new e,e}(ce),oa=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i={},o={};r[ci]!==Ye.dataType&&(i.baseTypeSource=r[ci]),r[ci]===Ye.dataType?(i=r[oe][xe]||{},o=r[oe].measurements||{}):r[oe]&&ce.extractPropsAndMeasurements(r[oe],i,o),ce.extractPropsAndMeasurements(r.data,i,o);var a=r[oe].name,s=new Ye(n,a,i,o),c=new wt(Ye.dataType,s);return ce.createEnvelope(n,Ye.envelopeType,r,c)},e.EventEnvelopeCreator=new e,e}(ce),cu=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[oe].measurements||{},o=r[oe][xe]||{};ce.extractPropsAndMeasurements(r.data,o,i);var a=r[oe],s=_e.CreateFromInterface(n,a,o,i),c=new wt(_e.dataType,s);return ce.createEnvelope(n,_e.envelopeType,r,c)},e.ExceptionEnvelopeCreator=new e,e}(ce),uu=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[oe],o=i[xe]||{},a=i.measurements||{};ce.extractPropsAndMeasurements(r.data,o,a);var s=new at(n,i.name,i.average,i.sampleCount,i.min,i.max,o,a),c=new wt(at.dataType,s);return ce.createEnvelope(n,at.envelopeType,r,c)},e.MetricEnvelopeCreator=new e,e}(ce),lu=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i="duration",o,a=r[oe];!k(a)&&!k(a[xe])&&!k(a[xe][i])?(o=a[xe][i],delete a[xe][i]):!k(r.data)&&!k(r.data[i])&&(o=r.data[i],delete r.data[i]);var s=r[oe],c;((r.ext||{}).trace||{}).traceID&&(c=r.ext.trace.traceID);var u=s.id||c,l=s.name,d=s.uri,p=s[xe]||{},x=s.measurements||{};if(k(s.refUri)||(p.refUri=s.refUri),k(s.pageType)||(p.pageType=s.pageType),k(s.isLoggedIn)||(p.isLoggedIn=s.isLoggedIn.toString()),!k(s[xe])){var I=s[xe];ve(I,function(m,v){p[m]=v})}ce.extractPropsAndMeasurements(r.data,p,x);var S=new Ze(n,l,d,o,p,x,u),f=new wt(Ze.dataType,S);return ce.createEnvelope(n,Ze.envelopeType,r,f)},e.PageViewEnvelopeCreator=new e,e}(ce),du=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[oe],o=i.name,a=i.uri||i.url,s=i[xe]||{},c=i.measurements||{};ce.extractPropsAndMeasurements(r.data,s,c);var u=new xt(n,o,a,void 0,s,c,i),l=new wt(xt.dataType,u);return ce.createEnvelope(n,xt.envelopeType,r,l)},e.PageViewPerformanceEnvelopeCreator=new e,e}(ce),fu=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[oe].message,o=r[oe].severityLevel,a=r[oe][xe]||{},s=r[oe].measurements||{};ce.extractPropsAndMeasurements(r.data,a,s);var c=new yt(n,i,o,a,s),u=new wt(yt.dataType,c);return ce.createEnvelope(n,yt.envelopeType,r,u)},e.TraceEnvelopeCreator=new e,e}(ce)}),pu,of=y(()=>{V(),we(),pu=function(){function t(e){de(t,this,function(n){n.serialize=function(a){var s=r(a,"root");try{return $e().stringify(s)}catch(c){e.throwInternal(T.CRITICAL,w.CannotSerializeObject,c&&j(c.toString)?c.toString():"Error serializing object",null,!0)}};function r(a,s){var c="__aiCircularRefCheck",u={};if(!a)return e.throwInternal(T.CRITICAL,w.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:s},!0),u;if(a[c])return e.throwInternal(T.WARNING,w.CircularReferenceDetected,"Circular reference detected while serializing object",{name:s},!0),u;if(!a.aiDataContract){if(s==="measurements")u=o(a,"number",s);else if(s==="properties")u=o(a,"string",s);else if(s==="tags")u=o(a,"string",s);else if(pt(a))u=i(a,s);else{e.throwInternal(T.WARNING,w.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{$e().stringify(a),u=a}catch(l){e.throwInternal(T.CRITICAL,w.CannotSerializeObject,l&&j(l.toString)?l.toString():"Error serializing object",null,!0)}}return u}return a[c]=!0,ve(a.aiDataContract,function(l,d){var p=j(d)?d()&1:d&1,x=j(d)?d()&4:d&4,I=d&2,S=a[l]!==void 0,f=qt(a[l])&&a[l]!==null;if(p&&!S&&!I)e.throwInternal(T.CRITICAL,w.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:s});else if(!x){var m=void 0;f?I?m=i(a[l],l):m=r(a[l],l):m=a[l],m!==void 0&&(u[l]=m)}}),delete a[c],u}function i(a,s){var c;if(a)if(!pt(a))e.throwInternal(T.CRITICAL,w.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);else{c=[];for(var u=0;u<a.length;u++){var l=a[u],d=r(l,s+"["+u+"]");c.push(d)}}return c}function o(a,s,c){var u;return a&&(u={},ve(a,function(l,d){if(s==="string")d===void 0?u[l]="undefined":d===null?u[l]="null":d.toString?u[l]=d.toString():u[l]="invalid field: toString() is not defined.";else if(s==="number")if(d===void 0)u[l]="undefined";else if(d===null)u[l]="null";else{var p=parseFloat(d);isNaN(p)?u[l]="NaN":u[l]=p}else u[l]="invalid field: "+c+" is of unknown type.",e.throwInternal(T.CRITICAL,u[l],null,!0)})),u}})}return t}()}),hu,aa,af=y(()=>{V(),we(),hu=function(){function t(){var e=Hn(),n=rt(),r=!1,i=!0;de(t,this,function(o){try{if(e&&Gn.Attach(e,"online",c)&&(Gn.Attach(e,"offline",u),r=!0),n){var a=n.body||n;Ae(a.ononline)||(a.ononline=c,a.onoffline=u,r=!0)}if(r){var s=it();s&&!k(s.onLine)&&(i=s.onLine)}}catch{r=!1}o.isListening=r,o.isOnline=function(){var l=!0,d=it();return r?l=i:d&&!k(d.onLine)&&(l=d.onLine),l},o.isOffline=function(){return!o.isOnline()};function c(){i=!0}function u(){i=!1}})}return t.Offline=new t,t}(),aa=hu.Offline}),gu,sf=y(()=>{gu=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var n=this.getHashCode(e)/t.INT_MAX_VALUE;return n*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e.length<t.MIN_INPUT_LENGTH;)e=e.concat(e);for(var n=5381,r=0;r<e.length;++r)n=(n<<5)+n+e.charCodeAt(r),n=n&n;return Math.abs(n)},t.INT_MAX_VALUE=2147483647,t.MIN_INPUT_LENGTH=8,t}()}),mu,cf=y(()=>{sf(),ye(),mu=function(){function t(){this.hashCodeGeneragor=new gu,this.keys=new oi}return t.prototype.getSamplingScore=function(e){var n=0;return e.tags&&e.tags[this.keys.userId]?n=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?n=this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?n=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?n=this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):n=Math.random()*100,n},t}()}),vu,uf=y(()=>{cf(),ye(),V(),vu=function(){function t(e,n){this.INT_MAX_VALUE=2147483647,this._logger=n||Nr(null),(e>100||e<0)&&(this._logger.throwInternal(T.WARNING,w.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new mu}return t.prototype.isSampledIn=function(e){var n=this.sampleRate,r=!1;return n==null||n>=100||e.baseType===at.dataType?!0:(r=this.samplingScoreGenerator.getSamplingScore(e)<n,r)},t}()});function ui(t){try{return t.responseText}catch{}return null}var sa,lf=y(()=>{te(),nf(),rf(),of(),ye(),V(),af(),uf(),we(),sa=function(t){J(e,t);function e(){var n=t.call(this)||this;n.priority=1001,n.identifier=ai,n._XMLHttpRequestSupported=!1;var r,i,o,a,s,c,u={};return de(e,n,function(l,d){function p(){nt("Method not implemented.")}l.pause=p,l.resume=p,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(h){l.diagLog().throwInternal(T.CRITICAL,w.FlushFailed,"flush failed, telemetry will not be collected: "+X(h),{exception:H(h)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&No())try{l.triggerSend(!0,f,2)}catch(h){l.diagLog().throwInternal(T.CRITICAL,w.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+X(h),{exception:H(h)})}else l.flush()},l.teardown=p,l.addHeader=function(h,b){u[h]=b},l.initialize=function(h,b,A,R){d.initialize(h,b,A,R);var L=l._getTelCtx(),F=l.identifier;s=new pu(b.logger),r=0,i=null,o=0,l._sender=null,c=0;var q=e._getDefaultAppInsightsChannelConfig();if(l._senderConfig=e._getEmptyAppInsightsChannelConfig(),ve(q,function(g,E){l._senderConfig[g]=function(){return L.getConfig(F,g,E())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&wn()?new au(l.diagLog(),l._senderConfig):new ou(l._senderConfig),l._sample=new vu(l._senderConfig.samplingPercentage(),l.diagLog()),Ke(h)||l.diagLog().throwInternal(T.CRITICAL,w.InvalidInstrumentationKey,"Invalid Instrumentation key "+h.instrumentationKey),!Yr(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&z(l._senderConfig.customHeaders(),function(g){n.addHeader(g.header,g.value)}),!l._senderConfig.isBeaconApiDisabled()&&No())l._sender=f;else{var $=ke("XMLHttpRequest");if($){var re=new $;"withCredentials"in re?(l._sender=m,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==dt&&(l._sender=le)}else{var Ct=ke("fetch");Ct&&(l._sender=v)}}},l.processTelemetry=function(h,b){b=l._getTelCtx(b);try{if(l._senderConfig.disableTelemetry())return;if(!h){b.diagLog().throwInternal(T.CRITICAL,w.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(h.baseData&&!h.baseType){b.diagLog().throwInternal(T.CRITICAL,w.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(h.baseType||(h.baseType="EventData"),!l._sender){b.diagLog().throwInternal(T.CRITICAL,w.SenderNotInitialized,"Sender was not initialized");return}if(x(h))h[Kr]=l._sample.sampleRate;else{b.diagLog().throwInternal(T.WARNING,w.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var A=e.constructEnvelope(h,l._senderConfig.instrumentationKey(),b.diagLog());if(!A){b.diagLog().throwInternal(T.CRITICAL,w.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var R=!1;if(h.tags&&h.tags[xn]&&(z(h.tags[xn],function($){try{$&&$(A)===!1&&(R=!0,b.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(re){b.diagLog().throwInternal(T.CRITICAL,w.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+X(re),{exception:H(re)},!0)}}),delete h.tags[xn]),R)return;var L=s.serialize(A),F=l._buffer.getItems(),q=l._buffer.batchPayloads(F);q&&q.length+L.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(L),K()}catch($){b.diagLog().throwInternal(T.WARNING,w.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+X($),{exception:H($)})}l.processNext(h,b)},l._xhrReadyStateChange=function(h,b,A){h.readyState===4&&I(h.status,b,h.responseURL,A,W(h),ui(h)||h.response)},l.triggerSend=function(h,b,A){h===void 0&&(h=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var R=l._buffer.getItems();qe(A||0,h),b?b.call(n,R,h):l._sender(R,h)}o=+new Date}clearTimeout(a),a=null,i=null}catch(F){var L=Ji();(!L||L>9)&&l.diagLog().throwInternal(T.CRITICAL,w.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+X(F),{exception:H(F)})}},l._onError=function(h,b,A){l.diagLog().throwInternal(T.WARNING,w.OnError,"Failed to send telemetry.",{message:b}),l._buffer.clearSent(h)},l._onPartialSuccess=function(h,b){for(var A=[],R=[],L=b.errors.reverse(),F=0,q=L;F<q.length;F++){var $=q[F],re=h.splice($.index,1)[0];ge($.statusCode)?R.push(re):A.push(re)}h.length>0&&l._onSuccess(h,b.itemsAccepted),A.length>0&&l._onError(A,W(null,["partial success",b.itemsAccepted,"of",b.itemsReceived].join(" "))),R.length>0&&(N(R),l.diagLog().throwInternal(T.WARNING,w.TransmissionFailed,"Partial success. Delivered: "+h.length+", Failed: "+A.length+". Will retry to send "+R.length+" our of "+b.itemsReceived+" items"))},l._onSuccess=function(h,b){l._buffer.clearSent(h)},l._xdrOnLoad=function(h,b){var A=ui(h);if(h&&(A+""=="200"||A===""))r=0,l._onSuccess(b,0);else{var R=C(A);R&&R.itemsReceived&&R.itemsReceived>R.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(b,R):l._onError(b,Ce(h))}};function x(h){return l._sample.isSampledIn(h)}function I(h,b,A,R,L,F){var q=null;if(l._appId||(q=C(F),q&&q.appId&&(l._appId=q.appId)),(h<200||h>=300)&&h!==0){if((h===301||h===307||h===308)&&!S(A)){l._onError(b,L);return}!l._senderConfig.isRetryDisabled()&&ge(h)?(N(b),l.diagLog().throwInternal(T.WARNING,w.TransmissionFailed,". Response code "+h+". Will retry to send "+b.length+" items.")):l._onError(b,L)}else if(aa.isOffline()){if(!l._senderConfig.isRetryDisabled()){var $=10;N(b,$),l.diagLog().throwInternal(T.WARNING,w.TransmissionFailed,". Offline - Response Code: "+h+". Offline status: "+aa.isOffline()+". Will retry to send "+b.length+" items.")}}else S(A),h===206?(q||(q=C(F)),q&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(b,q):l._onError(b,L)):(r=0,l._onSuccess(b,R))}function S(h){return c>=10?!1:!k(h)&&h!==""&&h!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return h},++c,!0):!1}function f(h,b){var A=l._senderConfig.endpointUrl(),R=l._buffer.batchPayloads(h),L=new Blob([R],{type:"text/plain;charset=UTF-8"}),F=it().sendBeacon(A,L);F?(l._buffer.markAsSent(h),l._onSuccess(h,h.length)):(m(h,!0),l.diagLog().throwInternal(T.WARNING,w.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function m(h,b){var A=new XMLHttpRequest,R=l._senderConfig.endpointUrl();try{A[$t]=!0}catch{}A.open("POST",R,b),A.setRequestHeader("Content-type","application/json"),Yr(R)&&A.setRequestHeader(ie.sdkContextHeader,ie.sdkContextHeaderAppIdRequest),z(Bt(u),function(F){A.setRequestHeader(F,u[F])}),A.onreadystatechange=function(){return l._xhrReadyStateChange(A,h,h.length)},A.onerror=function(F){return l._onError(h,W(A),F)};var L=l._buffer.batchPayloads(h);A.send(L),l._buffer.markAsSent(h)}function v(h,b){var A=l._senderConfig.endpointUrl(),R=l._buffer.batchPayloads(h),L=new Blob([R],{type:"text/plain;charset=UTF-8"}),F=new Headers;Yr(A)&&F.append(ie.sdkContextHeader,ie.sdkContextHeaderAppIdRequest),z(Bt(u),function(re){F.append(re,u[re])});var q={method:"POST",headers:F,body:L},$=new Request(A,q);fetch($).then(function(re){if(re.ok)re.text().then(function(Ct){I(re.status,h,re.url,h.length,re.statusText,Ct)}),l._buffer.markAsSent(h);else throw Error(re.statusText)}).catch(function(re){l._onError(h,re.message)})}function C(h){try{if(h&&h!==""){var b=$e().parse(h);if(b&&b.itemsReceived&&b.itemsReceived>=b.itemsAccepted&&b.itemsReceived-b.itemsAccepted===b.errors.length)return b}}catch(A){l.diagLog().throwInternal(T.CRITICAL,w.InvalidBackendResponse,"Cannot parse the response. "+X(A),{response:h})}return null}function N(h,b){if(b===void 0&&(b=1),!(!h||h.length===0)){l._buffer.clearSent(h),r++;for(var A=0,R=h;A<R.length;A++){var L=R[A];l._buffer.enqueue(L)}P(b),K()}}function P(h){var b=10,A;if(r<=1)A=b;else{var R=(Math.pow(2,r)-1)/2,L=Math.floor(Math.random()*R*b)+1;L=h*L,A=Math.max(Math.min(L,3600),b)}var F=ze()+A*1e3;i=F}function K(){if(!a){var h=i?Math.max(0,i-ze()):0,b=Math.max(l._senderConfig.maxBatchInterval(),h);a=setTimeout(function(){l.triggerSend(!0,null,1)},b)}}function ge(h){return h===408||h===429||h===500||h===503}function W(h,b){return h?"XMLHttpRequest,Status:"+h.status+",Response:"+ui(h)||h.response||"":b}function le(h,b){var A=Hn(),R=new XDomainRequest;R.onload=function(){return l._xdrOnLoad(R,h)},R.onerror=function($){return l._onError(h,Ce(R),$)};var L=A&&A.location&&A.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(L,0)!==0){l.diagLog().throwInternal(T.WARNING,w.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var F=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");R.open("POST",F);var q=l._buffer.batchPayloads(h);R.send(q),l._buffer.markAsSent(h)}function Ce(h,b){return h?"XDomainRequest,Response:"+ui(h)||"":b}function Ge(){var h="getNotifyMgr";return l.core[h]?l.core[h]():l.core._notificationManager}function qe(h,b){var A=Ge();if(A&&A.eventsSendRequest)try{A.eventsSendRequest(h,b)}catch(R){l.diagLog().throwInternal(T.CRITICAL,w.NotificationException,"send request notification failed: "+X(R),{exception:H(R)})}}function Ke(h){var b=k(h.disableInstrumentationKeyValidation)?!1:h.disableInstrumentationKeyValidation;if(b)return!0;var A="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",R=new RegExp(A);return R.test(h.instrumentationKey)}}),n}return e.constructEnvelope=function(n,r,i){var o;switch(r!==n.iKey&&!k(r)?o=on({},n,{iKey:r}):o=n,o.baseType){case Ye.dataType:return oa.EventEnvelopeCreator.Create(i,o);case yt.dataType:return fu.TraceEnvelopeCreator.Create(i,o);case Ze.dataType:return lu.PageViewEnvelopeCreator.Create(i,o);case xt.dataType:return du.PageViewPerformanceEnvelopeCreator.Create(i,o);case _e.dataType:return cu.ExceptionEnvelopeCreator.Create(i,o);case at.dataType:return uu.MetricEnvelopeCreator.Create(i,o);case st.dataType:return su.DependencyEnvelopeCreator.Create(i,o);default:return oa.EventEnvelopeCreator.Create(i,o)}},e._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},e._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},e}(jt)}),yu=y(()=>{lf()}),xu,ca,wu,df=y(()=>{we(),ye(),V(),xu="ai_session",ca=function(){function t(){}return t}(),wu=function(){function t(e,n){var r=this,i,o,a=Nr(n),s=lo(n);de(t,r,function(c){e||(e={}),j(e.sessionExpirationMs)||(e.sessionExpirationMs=function(){return t.acquisitionSpan}),j(e.sessionRenewalMs)||(e.sessionRenewalMs=function(){return t.renewalSpan}),c.config=e;var u=c.config.sessionCookiePostfix&&c.config.sessionCookiePostfix()?c.config.sessionCookiePostfix():c.config.namePrefix&&c.config.namePrefix()?c.config.namePrefix():"";i=function(){return xu+u},c.automaticSession=new ca,c.update=function(){var S=ze(),f=!1,m=c.automaticSession;m.id||(f=!l(m,S));var v=c.config.sessionExpirationMs();if(!f&&v>0){var C=c.config.sessionRenewalMs(),N=S-m.acquisitionDate,P=S-m.renewalDate;f=N<0||P<0,f=f||N>v,f=f||P>C}f?p(S):(!o||S-o>t.cookieUpdateInterval)&&x(m,S)},c.backup=function(){var S=c.automaticSession;I(S.id,S.acquisitionDate,S.renewalDate)};function l(S,f){var m=!1,v=s.get(i());if(v&&j(v.split))m=d(S,v);else{var C=vc(a,i());C&&(m=d(S,C))}return m||!!S.id}function d(S,f){var m=!1,v=", session will be reset",C=f.split("|");if(C.length>=2)try{var N=+C[1]||0,P=+C[2]||0;isNaN(N)||N<=0?a.throwInternal(T.WARNING,w.SessionRenewalDateIsZero,"AI session acquisition date is 0"+v):isNaN(P)||P<=0?a.throwInternal(T.WARNING,w.SessionRenewalDateIsZero,"AI session renewal date is 0"+v):C[0]&&(S.id=C[0],S.acquisitionDate=N,S.renewalDate=P,m=!0)}catch(K){a.throwInternal(T.CRITICAL,w.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(f||"")+"]"+v+" - "+X(K),{exception:H(K)})}return m}function p(S){var f=c.config||{},m=(f.getNewId?f.getNewId():null)||Wr;c.automaticSession.id=m(f.idLength?f.idLength():22),c.automaticSession.acquisitionDate=S,x(c.automaticSession,S),Oo()||a.throwInternal(T.WARNING,w.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function x(S,f){var m=S.acquisitionDate;S.renewalDate=f;var v=c.config,C=v.sessionRenewalMs(),N=m+v.sessionExpirationMs()-f,P=[S.id,m,f],K=0;N<C?K=N/1e3:K=C/1e3;var ge=v.cookieDomain?v.cookieDomain():null;s.set(i(),P.join("|"),v.sessionExpirationMs()>0?K:null,ge),o=f}function I(S,f,m){yc(a,i(),[S,f,m].join("|"))}})}return t.acquisitionSpan=864e5,t.renewalSpan=18e5,t.cookieUpdateInterval=6e4,t}()}),bu,ff=y(()=>{bu=function(){function t(){}return t}()}),Iu,pf=y(()=>{Iu=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}()}),Cu,Eu,hf=y(()=>{Cu="2.6.4",Eu=function(){function t(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+Cu}return t}()});function Su(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var Tu,gf=y(()=>{we(),ye(),V(),Tu=function(){function t(e,n){this.isNewUser=!1;var r=Nr(n),i=lo(n),o;de(t,this,function(a){a.config=e;var s=a.config.userCookiePostfix&&a.config.userCookiePostfix()?a.config.userCookiePostfix():"";o=function(){return t.userCookieName+s};var c=i.get(o());if(c){a.isNewUser=!1;var u=c.split(t.cookieSeparator);u.length>0&&(a.id=u[0])}if(!a.id){var l=e||{},d=(l.getNewId?l.getNewId():null)||Wr;a.id=d(l.idLength?e.idLength():22);var p=31536e3,x=Tt(new Date);a.accountAcquisitionDate=x,a.isNewUser=!0;var I=[a.id,x];i.set(o(),I.join(t.cookieSeparator),p);var S=e.namePrefix&&e.namePrefix()?e.namePrefix()+"ai_session":"ai_session";xc(r,S)}a.accountId=e.accountId?e.accountId():void 0;var f=i.get(t.authUserCookieName);if(f){f=decodeURI(f);var m=f.split(t.cookieSeparator);m[0]&&(a.authenticatedId=m[0]),m.length>1&&m[1]&&(a.accountId=m[1])}a.setAuthenticatedUserContext=function(v,C,N){N===void 0&&(N=!1);var P=!Su(v)||C&&!Su(C);if(P){r.throwInternal(T.WARNING,w.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}a.authenticatedId=v;var K=a.authenticatedId;C&&(a.accountId=C,K=[a.authenticatedId,a.accountId].join(t.cookieSeparator)),N&&i.set(t.authUserCookieName,encodeURI(K))},a.clearAuthenticatedUserContext=function(){a.authenticatedId=null,a.accountId=null,i.del(t.authUserCookieName)}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}()}),ku,mf=y(()=>{ku=function(){function t(){}return t}()}),Ru,vf=y(()=>{ye(),V(),Ru=function(){function t(e,n,r,i){var o=this;o.traceID=e||ot(),o.parentID=n,o.name=r;var a=zt();!r&&a&&a.pathname&&(o.name=a.pathname),o.name=De(i,o.name)}return t}()});function Sn(t,e){t&&t[e]&&Bt(t[e]).length===0&&delete t[e]}var Zn,er,Au,yf=y(()=>{we(),V(),df(),ye(),ff(),pf(),hf(),gf(),mf(),vf(),Zn="ext",er="tags",Au=function(){function t(e,n){var r=this,i=e.logger;this.appId=function(){return null},de(t,this,function(o){o.application=new bu,o.internal=new Eu(n),Rr()&&(o.sessionManager=new wu(n,e),o.device=new Iu,o.location=new ku,o.user=new Tu(n,e),o.telemetryTrace=new Ru(void 0,void 0,void 0,i),o.session=new ca),o.applySessionContext=function(a,s){var c=o.session,u=o.sessionManager;c&&B(c.id)?G(Se(a.ext,Me.AppExt),"sesId",c.id):u&&u.automaticSession&&G(Se(a.ext,Me.AppExt),"sesId",u.automaticSession.id,B)},o.applyOperatingSystemContxt=function(a,s){G(a.ext,Me.OSExt,o.os)},o.applyApplicationContext=function(a,s){var c=o.application;if(c){var u=Se(a,er);G(u,ne.applicationVersion,c.ver,B),G(u,ne.applicationBuild,c.build,B)}},o.applyDeviceContext=function(a,s){var c=o.device;if(c){var u=Se(Se(a,Zn),Me.DeviceExt);G(u,"localId",c.id,B),G(u,"ip",c.ip,B),G(u,"model",c.model,B),G(u,"deviceClass",c.deviceClass,B)}},o.applyInternalContext=function(a,s){var c=o.internal;if(c){var u=Se(a,er);G(u,ne.internalAgentVersion,c.agentVersion,B),G(u,ne.internalSdkVersion,c.sdkVersion,B),(a.baseType===ln.dataType||a.baseType===Ze.dataType)&&(G(u,ne.internalSnippet,c.snippetVer,B),G(u,ne.internalSdkSrc,c.sdkSrc,B))}},o.applyLocationContext=function(a,s){var c=r.location;c&&G(Se(a,er,[]),ne.locationIp,c.ip,B)},o.applyOperationContext=function(a,s){var c=o.telemetryTrace;if(c){var u=Se(Se(a,Zn),Me.TraceExt,{traceID:void 0,parentID:void 0});G(u,"traceID",c.traceID,B),G(u,"name",c.name,B),G(u,"parentID",c.parentID,B)}},o.applyWebContext=function(a,s){var c=r.web;c&&G(Se(a,Zn),Me.WebExt,c)},o.applyUserContext=function(a,s){var c=o.user;if(c){var u=Se(a,er,[]);G(u,ne.userAccountId,c.accountId,B);var l=Se(Se(a,Zn),Me.UserExt);G(l,"id",c.id,B),G(l,"authId",c.authenticatedId,B)}},o.cleanUp=function(a,s){var c=a.ext;c&&(Sn(c,Me.DeviceExt),Sn(c,Me.UserExt),Sn(c,Me.WebExt),Sn(c,Me.OSExt),Sn(c,Me.AppExt),Sn(c,Me.TraceExt))}})}return t}()}),Du,ua,xf=y(()=>{te(),we(),V(),yf(),ye(),Du=function(t){J(e,t);function e(){var n=t.call(this)||this;n.priority=110,n.identifier=En;var r,i;return de(e,n,function(o,a){o.initialize=function(c,u,l,d){a.initialize(c,u,l,d);var p=o._getTelCtx(),x=o.identifier,I=e.getDefaultConfig();i=i||{},ve(I,function(S,f){i[S]=function(){return p.getConfig(x,S,f())}}),o.context=new Au(u,i),r=pc(l,ai),o.context.appId=function(){return r?r._appId:null},o._extConfig=i},o.processTelemetry=function(c,u){if(!k(c)){u=o._getTelCtx(u),c.name===Ze.envelopeType&&u.diagLog().resetInternalMessageCount();var l=o.context||{};if(l.session&&typeof o.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),s(c,u),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var d=new ln(w.SendBrowserInfoOnUserInit,(it()||{}).userAgent||"");u.diagLog().logInternalMessage(T.CRITICAL,d)}o.processNext(c,u)}};function s(c,u){Se(c,"tags",[]),Se(c,"ext",{});var l=o.context;l.applySessionContext(c,u),l.applyApplicationContext(c,u),l.applyDeviceContext(c,u),l.applyOperationContext(c,u),l.applyUserContext(c,u),l.applyOperatingSystemContxt(c,u),l.applyWebContext(c,u),l.applyLocationContext(c,u),l.applyInternalContext(c,u),l.cleanUp(c,u)}}),n}return e.getDefaultConfig=function(){var n={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 30*60*1e3},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 24*60*60*1e3},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return n},e}(jt),ua=Du}),Pu=y(()=>{xf()});function _u(t,e,n){var r=0,i=t[e],o=t[n];return i&&o&&(r=Pe(i,o)),r}function Yt(t,e,n,r,i){var o=0,a=_u(n,r,i);return a&&(o=Nt(t,e,vt(a))),o}function Nt(t,e,n){var r="ajaxPerf",i=0;if(t&&e&&n){var o=t[r]=t[r]||{};o[e]=n,i=1}return i}function wf(t,e){var n=t.perfTiming,r=e[Le]||{},i=0,o="name",a="Start",s="End",c="domainLookup",u="connect",l="redirect",d="request",p="response",x="duration",I="startTime",S=c+a,f=c+s,m=u+a,v=u+s,C=d+a,N=d+s,P=p+a,K=p+s,ge=l+a,W=l=s,le="transferSize",Ce="encodedBodySize",Ge="decodedBodySize",qe="serverTiming";if(n){i|=Yt(r,l,n,ge,W),i|=Yt(r,c,n,S,f),i|=Yt(r,u,n,m,v),i|=Yt(r,d,n,C,N),i|=Yt(r,p,n,P,K),i|=Yt(r,"networkConnect",n,I,v),i|=Yt(r,"sentRequest",n,C,K);var Ke=n[x];Ke||(Ke=_u(n,I,K)||0),i|=Nt(r,x,Ke),i|=Nt(r,"perfTotal",Ke);var h=n[qe];if(h){var b={};z(h,function(A,R){var L=zl(A[o]||""+R),F=b[L]||{};ve(A,function(q,$){(q!==o&&B($)||zi($))&&(F[q]&&($=F[q]+";"+$),($||!B($))&&(F[q]=$))}),b[L]=F}),i|=Nt(r,qe,b)}i|=Nt(r,le,n[le]),i|=Nt(r,Ce,n[Ce]),i|=Nt(r,Ge,n[Ge])}else t.perfMark&&(i|=Nt(r,"missing",t.perfAttempts));i&&(e[Le]=r)}var Le,Mu,la,bf=y(()=>{ye(),V(),we(),Le="properties",Mu=function(){function t(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1}return t}(),la=function(){function t(e,n,r){var i=this,o=r,a="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Mu,i.clientFailure=0,i.traceID=e,i.spanID=n,de(t,i,function(s){s.getAbsoluteUrl=function(){return s.requestUrl?Ic(s.requestUrl):null},s.getPathName=function(){return s.requestUrl?Kn(o,Cc(s.method,s.requestUrl)):null},s.CreateTrackItem=function(c,u,l){if(s.ajaxTotalDuration=Math.round(Pe(s.requestSentTime,s.responseFinishedTime)*1e3)/1e3,s.ajaxTotalDuration<0)return null;var d=(S={id:"|"+s.traceID+"."+s.spanID,target:s.getAbsoluteUrl(),name:s.getPathName(),type:c,startTime:null,duration:s.ajaxTotalDuration,success:+s.status>=200&&+s.status<400,responseCode:+s.status,method:s.method},S[Le]={HttpMethod:s.method},S);if(s.requestSentTime&&(d.startTime=new Date,d.startTime.setTime(s.requestSentTime)),wf(s,d),u&&Bt(s.requestHeaders).length>0&&(d[Le]=d[Le]||{},d[Le].requestHeaders=s.requestHeaders),l){var p=l();if(p){var x=p.correlationContext;if(x&&(d.correlationContext=x),p.headerMap&&Bt(p.headerMap).length>0&&(d[Le]=d[Le]||{},d[Le].responseHeaders=p.headerMap),s.status>=400){var I=p.type;d[Le]=d[Le]||{},(I===""||I==="text")&&(d[Le][a]=p[a]?p.statusText+" - "+p[a]:p.statusText),I==="json"&&(d[Le][a]=p.response?p.statusText+" - "+JSON.stringify(p.response):p.statusText)}}}return d;var S}})}return t}()}),If,Cf=y(()=>{V(),V(),If=function(){function t(){}return t.GetLength=function(e){var n=0;if(!k(e)){var r="";try{r=e.toString()}catch{}n=r.length,n=isNaN(n)?0:n}return n},t}()}),da,Ef=y(()=>{V(),da=function(){function t(e,n){var r=this;r.traceFlag=t.DEFAULT_TRACE_FLAG,r.version=t.DEFAULT_VERSION,e&&t.isValidTraceId(e)?r.traceId=e:r.traceId=ot(),n&&t.isValidSpanId(n)?r.spanId=n:r.spanId=ot().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}()});function Sf(){var t=rn();return!t||k(t.Request)||k(t.Request[Ue])||k(t[Rn])?null:t[Rn]}function Tf(t){var e=!1;if(typeof XMLHttpRequest!==dt&&!k(XMLHttpRequest)){var n=XMLHttpRequest[Ue];e=!k(n)&&!k(n.open)&&!k(n.send)&&!k(n.abort)}var r=Ji();if(r&&r<9&&(e=!1),e)try{var i=new XMLHttpRequest;i[Fe]={};var o=XMLHttpRequest[Ue].open;XMLHttpRequest[Ue].open=o}catch(a){e=!1,tr(t,w.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:H(a)})}return e}function li(t){var e="";try{!k(t)&&!k(t[Fe])&&!k(t[Fe].requestUrl)&&(e+="(url: '"+t[Fe].requestUrl+"')")}catch{}return e}function tr(t,e,n,r,i){t[kn]()[pa](T.CRITICAL,e,n,r,i)}function di(t,e,n,r,i){t[kn]()[pa](T.WARNING,e,n,r,i)}function nr(t,e,n){return function(r){tr(t,e,n,{ajaxDiagnosticsMessage:li(r.inst),exception:H(r.err)})}}function Tn(t,e){return t&&e?t.indexOf(e):-1}var fa,kn,Fe,pa,Rn,ha,ga,kf=y(()=>{te(),ye(),V(),bf(),Cf(),Ef(),we(),fa="ai.ajxmn.",kn="diagLog",Fe="ajaxData",pa="throwInternal",Rn="fetch",ha=0,ga=function(t){J(e,t);function e(){var n=t.call(this)||this;n.identifier=e.identifier,n.priority=120;var r="trackDependencyDataInternal",i=zt(),o=!1,a=!1,s=i&&i.host&&i.host.toLowerCase(),c=e.getEmptyConfig(),u=!1,l=0,d,p,x,I,S=!1,f=0,m=!1,v=[],C={},N;return de(e,n,function(P,K){P.initialize=function(g,E,D,_){if(!P.isInitialized()){K.initialize(g,E,D,_);var M=P._getTelCtx(),O=e.getDefaultConfig();ve(O,function(Ne,tn){c[Ne]=M.getConfig(e.identifier,Ne,tn)});var U=c.distributedTracingMode;if(u=c.enableRequestHeaderTracking,S=c.enableAjaxPerfTracking,f=c.maxAjaxCallsPerView,m=c.enableResponseHeaderTracking,N=c.excludeRequestFromAutoTrackingPatterns,x=U===Je.AI||U===Je.AI_AND_W3C,p=U===Je.AI_AND_W3C||U===Je.W3C,S){var Q=g.instrumentationKey||"unkwn";Q.length>5?I=fa+Q.substring(Q.length-5)+".":I=fa+Q+"."}if(c.disableAjaxTracking===!1&&Ce(),W(),D.length>0&&D){for(var se=void 0,me=0;!se&&me<D.length;)D[me]&&D[me].identifier===En&&(se=D[me]),me++;se&&(d=se.context)}}},P.teardown=function(){z(v,function(g){g.rm()}),v=[],o=!1,a=!1,P.setInitialized(!1)},P.trackDependencyData=function(g,E){P[r](g,E)},P.includeCorrelationHeaders=function(g,E,D,_){var M=P._currentWindowHost||s;if(E){if(Pt.canIncludeCorrelationHeader(c,g.getAbsoluteUrl(),M)){if(D||(D={}),D.headers=new Headers(D.headers||(E instanceof Request?E.headers||{}:{})),x){var O="|"+g.traceID+"."+g.spanID;D.headers.set(ie.requestIdHeader,O),u&&(g.requestHeaders[ie.requestIdHeader]=O)}var U=c.appId||d&&d.appId();if(U&&(D.headers.set(ie.requestContextHeader,ie.requestContextAppIdFormat+U),u&&(g.requestHeaders[ie.requestContextHeader]=ie.requestContextAppIdFormat+U)),p){var Q=new da(g.traceID,g.spanID);D.headers.set(ie.traceParentHeader,Q.toString()),u&&(g.requestHeaders[ie.traceParentHeader]=Q.toString())}}return D}else if(_){if(Pt.canIncludeCorrelationHeader(c,g.getAbsoluteUrl(),M)){if(x){var O="|"+g.traceID+"."+g.spanID;_.setRequestHeader(ie.requestIdHeader,O),u&&(g.requestHeaders[ie.requestIdHeader]=O)}var U=c.appId||d&&d.appId();if(U&&(_.setRequestHeader(ie.requestContextHeader,ie.requestContextAppIdFormat+U),u&&(g.requestHeaders[ie.requestContextHeader]=ie.requestContextAppIdFormat+U)),p){var Q=new da(g.traceID,g.spanID);_.setRequestHeader(ie.traceParentHeader,Q.toString()),u&&(g.requestHeaders[ie.traceParentHeader]=Q.toString())}}return _}},P[r]=function(g,E,D){if(f===-1||l<f){(c.distributedTracingMode===Je.W3C||c.distributedTracingMode===Je.AI_AND_W3C)&&typeof g.id=="string"&&g.id[g.id.length-1]!=="."&&(g.id+="."),k(g.startTime)&&(g.startTime=new Date);var _=ct.create(g,st.dataType,st.envelopeType,P[kn](),E,D);P.core.track(_)}else l===f&&tr(P,w.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function ge(g){var E=!0;return(g||c.ignoreHeaders)&&z(c.ignoreHeaders,function(D){if(D.toLowerCase()===g.toLowerCase())return E=!1,-1}),E}function W(){var g=Sf();if(g){var E=rn(),D=g.polyfill;c.disableFetchTracking===!1?(v.push(ko(E,Rn,{req:function(_,M,O){var U;if(o&&!Ge(null,M,O)&&!(D&&a)){var Q=_.ctx();U=q(M,O);var se=P.includeCorrelationHeaders(U,M,O);se!==O&&_.set(1,se),Q.data=U}},rsp:function(_,M){var O=_.ctx().data;O&&(_.rslt=_.rslt.then(function(U){return re(_,(U||{}).status,U,O,function(){var Q={statusText:U.statusText,headerMap:null,correlationContext:Ct(U)};if(m){var se={};U.headers.forEach(function(me,Ne){ge(Ne)&&(se[Ne]=me)}),Q.headerMap=se}return Q}),U}).catch(function(U){throw re(_,0,M,O,null,{error:U.message}),U}))},hkErr:nr(P,w.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),o=!0):D&&v.push(ko(E,Rn,{req:function(_,M,O){Ge(null,M,O)}})),D&&(E[Rn].polyfill=D)}}function le(g,E,D){v.push(vd(g,E,D))}function Ce(){Tf(P)&&!a&&(le(XMLHttpRequest,"open",{req:function(g,E,D,_){var M=g.inst,O=M[Fe];!Ge(M,D)&&qe(M,!0)&&(!O||!O.xhrMonitoringState.openDone)&&Ke(M,E,D,_)},hkErr:nr(P,w.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),le(XMLHttpRequest,"send",{req:function(g,E){var D=g.inst,_=D[Fe];qe(D)&&!_.xhrMonitoringState.sendDone&&(L("xhr",_),_.requestSentTime=Qn(),P.includeCorrelationHeaders(_,void 0,void 0,D),_.xhrMonitoringState.sendDone=!0)},hkErr:nr(P,w.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),le(XMLHttpRequest,"abort",{req:function(g){var E=g.inst,D=E[Fe];qe(E)&&!D.xhrMonitoringState.abortDone&&(D.aborted=1,D.xhrMonitoringState.abortDone=!0)},hkErr:nr(P,w.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),u&&le(XMLHttpRequest,"setRequestHeader",{req:function(g,E,D){var _=g.inst;qe(_)&&ge(E)&&(_[Fe].requestHeaders[E]=D)},hkErr:nr(P,w.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),a=!0)}function Ge(g,E,D){var _=!1,M=((B(E)?E:(E||{}).url||"")||"").toLowerCase();if(z(N,function(Q){var se=Q;B(Q)&&(se=new RegExp(Q)),_||(_=se.test(M))}),_)return _;var O=Tn(M,"?"),U=Tn(M,"#");return(O===-1||U!==-1&&U<O)&&(O=U),O!==-1&&(M=M.substring(0,O)),k(g)?k(E)||(_=(typeof E=="object"?E[$t]===!0:!1)||(D?D[$t]===!0:!1)):_=g[$t]===!0||M[$t]===!0,_?C[M]||(C[M]=1):C[M]&&(_=!0),_}function qe(g,E){var D=!0,_=a;return k(g)||(D=E===!0||!k(g[Fe])),_&&D}function Ke(g,E,D,_){var M=d&&d.telemetryTrace&&d.telemetryTrace.traceID||ot(),O=ot().substr(0,16),U=new la(M,O,P[kn]());U.method=E,U.requestUrl=D,U.xhrMonitoringState.openDone=!0,U.requestHeaders={},U.async=_,g[Fe]=U,h(g)}function h(g){g[Fe].xhrMonitoringState.stateChangeAttached=Gn.Attach(g,"readystatechange",function(){try{g&&g.readyState===4&&qe(g)&&A(g)}catch(D){var E=H(D);(!E||Tn(E.toLowerCase(),"c00c023f")===-1)&&tr(P,w.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:li(g),exception:E})}})}function b(g){try{var E=g.responseType;if(E===""||E==="text")return g.responseText}catch{}return null}function A(g){var E=g[Fe];E.responseFinishedTime=Qn(),E.status=g.status;function D(_,M){var O=M||{};O.ajaxDiagnosticsMessage=li(g),_&&(O.exception=H(_)),di(P,w.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",O)}F("xmlhttprequest",E,function(){try{var _=E.CreateTrackItem("Ajax",u,function(){var M={statusText:g.statusText,headerMap:null,correlationContext:R(g),type:g.responseType,responseText:b(g),response:g.response};if(m){var O=g.getAllResponseHeaders();if(O){var U=be(O).split(/[\r\n]+/),Q={};z(U,function(se){var me=se.split(": "),Ne=me.shift(),tn=me.join(": ");ge(Ne)&&(Q[Ne]=tn)}),M.headerMap=Q}}return M});_?P[r](_):D(null,{requestSentTime:E.requestSentTime,responseFinishedTime:E.responseFinishedTime})}finally{try{g[Fe]=null}catch{}}},function(_){D(_,null)})}function R(g){try{var E=g.getAllResponseHeaders();if(E!==null){var D=Tn(E.toLowerCase(),ie.requestContextHeaderLowerCase);if(D!==-1){var _=g.getResponseHeader(ie.requestContextHeader);return Pt.getCorrelationContext(_)}}}catch(M){di(P,w.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:li(g),exception:H(M)})}}function L(g,E){if(E.requestUrl&&I&&S){var D=ht();if(D&&j(D.mark)){ha++;var _=I+g+"#"+ha;D.mark(_);var M=D.getEntriesByName(_);M&&M.length===1&&(E.perfMark=M[0])}}}function F(g,E,D,_){var M=E.perfMark,O=ht(),U=c.maxAjaxPerfLookupAttempts,Q=c.ajaxPerfLookupDelay,se=E.requestUrl,me=0;(function Ne(){try{if(O&&M){me++;for(var tn=null,Ja=O.getEntries(),Si=Ja.length-1;Si>=0;Si--){var lt=Ja[Si];if(lt){if(lt.entryType==="resource")lt.initiatorType===g&&(Tn(lt.name,se)!==-1||Tn(se,lt.name)!==-1)&&(tn=lt);else if(lt.entryType==="mark"&&lt.name===M.name){E.perfTiming=tn;break}if(lt.startTime<M.startTime-1e3)break}}}!M||E.perfTiming||me>=U||E.async===!1?(M&&j(O.clearMarks)&&O.clearMarks(M.name),E.perfAttempts=me,D()):setTimeout(Ne,Q)}catch(vl){_(vl)}})()}function q(g,E){var D=d&&d.telemetryTrace&&d.telemetryTrace.traceID||ot(),_=ot().substr(0,16),M=new la(D,_,P[kn]());M.requestSentTime=Qn(),g instanceof Request?M.requestUrl=g?g.url:"":M.requestUrl=g;var O="GET";E&&E.method?O=E.method:g&&g instanceof Request&&(O=g.method),M.method=O;var U={};if(u){var Q=new Headers((E?E.headers:0)||(g instanceof Request?g.headers||{}:{}));Q.forEach(function(se,me){ge(me)&&(U[me]=se)})}return M.requestHeaders=U,L("fetch",M),M}function $(g){var E="";try{k(g)||(typeof g=="string"?E+="(url: '"+g+"')":E+="(url: '"+g.url+"')")}catch(D){tr(P,w.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:H(D)})}return E}function re(g,E,D,_,M,O){if(!_)return;function U(Q,se,me){var Ne=me||{};Ne.fetchDiagnosticsMessage=$(D),se&&(Ne.exception=H(se)),di(P,Q,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",Ne)}_.responseFinishedTime=Qn(),_.status=E,F("fetch",_,function(){var Q=_.CreateTrackItem("Fetch",u,M);Q?P[r](Q):U(w.FailedMonitorAjaxDur,null,{requestSentTime:_.requestSentTime,responseFinishedTime:_.responseFinishedTime})},function(Q){U(w.FailedMonitorAjaxGetCorrelationHeader,Q,null)})}function Ct(g){if(g&&g.headers)try{var E=g.headers.get(ie.requestContextHeader);return Pt.getCorrelationContext(E)}catch(D){di(P,w.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:$(g),exception:H(D)})}}}),n}return e.getDefaultConfig=function(){var n={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Je.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return n},e.getEmptyConfig=function(){var n=this.getDefaultConfig();return ve(n,function(r){n[r]=void 0}),n},e.prototype.processTelemetry=function(n,r){this.processNext(n,r)},e.identifier="AjaxDependencyPlugin",e}(jt)}),Nu=y(()=>{kf()}),ma,va,Lu,Fu,ya,Uu=y(()=>{V(),iu(),yu(),Pu(),Nu(),ye(),va=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Lu={Default:0,Required:1,Array:2,Hidden:4},Fu={__proto__:null,PropertiesPluginIdentifier:En,BreezeChannelIdentifier:ai,AnalyticsPluginIdentifier:ea,Util:zo,CorrelationIdHelper:Pt,UrlHelper:Rc,DateTimeUtils:Ac,ConnectionStringParser:Nc,FieldType:Lu,RequestHeaders:ie,DisabledPropertyName:$t,ProcessLegacy:xn,SampleRate:Kr,HttpMethod:$r,DEFAULT_BREEZE_ENDPOINT:Lo,AIData:Wo,AIBase:Vo,Envelope:jo,Event:Ye,Exception:_e,Metric:at,PageView:Ze,PageViewData:ri,RemoteDependencyData:st,Trace:yt,PageViewPerformance:xt,Data:wt,SeverityLevel:Xn,ConfigurationManager:Yc,ContextTagKeys:oi,DataSanitizer:dc,TelemetryItemCreator:ct,CtxTagKeys:ne,Extensions:Me,DistributedTracingModes:Je},ya=function(){function t(e){var n=this;n._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var r=e.config||{};if(r.connectionString){var i=Pc(r.connectionString),o=i.ingestionendpoint;r.endpointUrl=o?o+"/v2/track":r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new na,n.properties=new ua,n.dependencies=new ga,n.core=new Io,n._sender=new sa,n.snippet=e,n.config=r,n.getSKUDefaults()}return t.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},t.prototype.trackEvent=function(e,n){this.appInsights.trackEvent(e,n)},t.prototype.trackPageView=function(e){var n=e||{};this.appInsights.trackPageView(n)},t.prototype.trackPageViewPerformance=function(e){var n=e||{};this.appInsights.trackPageViewPerformance(n)},t.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},t.prototype._onerror=function(e){this.appInsights._onerror(e)},t.prototype.trackTrace=function(e,n){this.appInsights.trackTrace(e,n)},t.prototype.trackMetric=function(e,n){this.appInsights.trackMetric(e,n)},t.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},t.prototype.stopTrackPage=function(e,n,r,i){this.appInsights.stopTrackPage(e,n,r,i)},t.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,n,r){this.appInsights.stopTrackEvent(e,n,r)},t.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},t.prototype.setAuthenticatedUserContext=function(e,n,r){r===void 0&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(e,n,r)},t.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},t.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},t.prototype.flush=function(e){var n=this;e===void 0&&(e=!0),dn(this.core,function(){return"AISKU.flush"},function(){z(n.core.getTransmissionControls(),function(r){z(r,function(i){i.flush(e)})})},null,e)},t.prototype.onunloadFlush=function(e){e===void 0&&(e=!0),z(this.core.getTransmissionControls(),function(n){z(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(e)})})},t.prototype.loadAppInsights=function(e,n,r){var i=this;e===void 0&&(e=!1);var o=this;function a(s){if(s){var c="";k(o._snippetVersion)||(c+=o._snippetVersion),e&&(c+=".lg"),o.context&&o.context.internal&&(o.context.internal.snippetVer=c||"-"),ve(o,function(u,l){B(u)&&!j(l)&&u&&u[0]!=="_"&&va.indexOf(u)===-1&&(s[u]=l)})}}return e&&o.config.extensions&&o.config.extensions.length>0&&nt("Extensions not allowed in legacy mode"),dn(o.core,function(){return"AISKU.loadAppInsights"},function(){var s=[];s.push(o._sender),s.push(o.properties),s.push(o.dependencies),s.push(o.appInsights),o.core.initialize(o.config,s,n,r),o.context=o.properties.context,ma&&o.context&&(o.context.internal.sdkSrc=ma),a(o.snippet),o.emptyQueue(),o.pollInternalLogs(),o.addHousekeepingBeforeUnload(i)}),o},t.prototype.updateSnippetDefinitions=function(e){hs(e,this,function(n){return n&&va.indexOf(n)===-1})},t.prototype.emptyQueue=function(){var e=this;try{if(pt(e.snippet.queue)){for(var n=e.snippet.queue.length,r=0;r<n;r++){var i=e.snippet.queue[r];i()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(a){var o={};a&&j(a.toString)&&(o.exception=a.toString())}},t.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},t.prototype.addHousekeepingBeforeUnload=function(e){if(Rr()||vs()){var n=function(){e.onunloadFlush(!1),z(e.appInsights.core._extensions,function(i){if(i.identifier===En)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!e.appInsights.config.disableFlushOnBeforeUnload){var r=Kt("beforeunload",n);r=Kt("unload",n)||r,r=Kt("pagehide",n)||r,r=Kt("visibilitychange",n)||r,!r&&!Zl()&&e.appInsights.core.logger.throwInternal(T.CRITICAL,w.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(Kt("pagehide",n),Kt("visibilitychange",n))}},t.prototype.getSender=function(){return this._sender},t.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},t}(),function(){var t=null,e=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(t=r.src)}catch{}if(t)try{var i=t.toLowerCase();if(i){for(var o="",a=0;a<n.length;a++)if(i.indexOf(n[a])!==-1){o="cdn"+(a+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?o+="-next":i.indexOf("/beta/")!==-1&&(o+="-beta")),ma=o+(e?".mod":"");break}}}catch{}}()}),Ou,Hu,Rf=y(()=>{ye(),V(),Ou=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],Hu=function(){function t(e,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=t.getDefaultConfig(e.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return t.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=Z(e.enableDebug),e.disableExceptionTracking=Z(e.disableExceptionTracking),e.disableTelemetry=Z(e.disableTelemetry),e.verboseLogging=Z(e.verboseLogging),e.emitLineDelimitedJson=Z(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=Z(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=Z(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=Z(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=Z(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=Z(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Z(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=Z(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=Z(e.isRetryDisabled),e.isCookieUseDisabled=Z(e.isCookieUseDisabled),e.isStorageUseDisabled=Z(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Z(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=Z(e.enableCorsCorrelation),e},t.prototype.addTelemetryInitializers=function(e){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(e)},t.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},t.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},t.prototype.stopTrackPage=function(e,n,r,i){this.appInsightsNew.stopTrackPage(e,n,r)},t.prototype.trackPageView=function(e,n,r,i,o){var a={name:e,uri:n,properties:r,measurements:i};this.appInsightsNew.trackPageView(a)},t.prototype.trackEvent=function(e,n,r){this.appInsightsNew.trackEvent({name:e})},t.prototype.trackDependency=function(e,n,r,i,o,a,s){this.appInsightsNew.trackDependencyData({id:e,target:r,type:i,duration:o,properties:{HttpMethod:n},success:a,responseCode:s})},t.prototype.trackException=function(e,n,r,i,o){this.appInsightsNew.trackException({exception:e})},t.prototype.trackMetric=function(e,n,r,i,o,a){this.appInsightsNew.trackMetric({name:e,average:n,sampleCount:r,min:i,max:o})},t.prototype.trackTrace=function(e,n,r){this.appInsightsNew.trackTrace({message:e,severityLevel:r})},t.prototype.flush=function(e){this.appInsightsNew.flush(e)},t.prototype.setAuthenticatedUserContext=function(e,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,n,r)},t.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},t.prototype._onerror=function(e,n,r,i,o){this.appInsightsNew._onerror({message:e,url:n,lineNumber:r,columnNumber:i,error:o})},t.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,n,r){this.appInsightsNew.stopTrackEvent(e,n,r)},t.prototype.downloadAndSetup=function(e){nt("downloadAndSetup not implemented in web SKU")},t.prototype.updateSnippetDefinitions=function(e){hs(e,this,function(n){return n&&Ou.indexOf(n)===-1})},t.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(o,a,s){n.apply(e,[null,o,a,s])}}var r="logPageView";typeof this.snippet[r]=="function"&&(this[r]=function(o,a,s){e.trackPageView(null,o,a,s)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(o,a,s){e.trackEvent(o,a,s)}),this},t.prototype._processLegacyInitializers=function(e){return e.tags[xn]=this._queue,e},t}()}),qu,Af=y(()=>{Rf(),Uu(),V(),qu=function(){function t(){}return t.getAppInsights=function(e,n){var r=new ya(e),i=n!==2;if(mn(),n===2)return r.updateSnippetDefinitions(e),r.loadAppInsights(i),r;var o=new Hu(e,r);return o.updateSnippetDefinitions(e),r.loadAppInsights(i),o},t}()}),Bu={};Rl(Bu,{AppInsightsCore:()=>Io,ApplicationAnalytics:()=>na,ApplicationInsights:()=>ya,ApplicationInsightsContainer:()=>qu,BaseCore:()=>wo,BaseTelemetryPlugin:()=>jt,CoreUtils:()=>jr,DependenciesPlugin:()=>ga,DistributedTracingModes:()=>Je,Event:()=>Ye,Exception:()=>_e,LoggingSeverity:()=>T,Metric:()=>at,NotificationManager:()=>bo,PageView:()=>Ze,PageViewPerformance:()=>xt,PerfEvent:()=>fn,PerfManager:()=>no,PropertiesPlugin:()=>ua,RemoteDependencyData:()=>st,Sender:()=>sa,SeverityLevel:()=>Xn,Telemetry:()=>Fu,Trace:()=>yt,Util:()=>zo,_InternalMessageId:()=>w,doPerf:()=>dn});var Df=y(()=>{Uu(),Af(),V(),ye(),yu(),iu(),Pu(),Nu()}),je;(function(t){t.ON="on",t.OFF="off"})(je||(je={}));function ir(){let t="telemetry",e="enableTelemetry";return rr.env.isTelemetryEnabled!==void 0?rr.env.isTelemetryEnabled?je.ON:je.OFF:rr.workspace.getConfiguration(t).get(e)?je.ON:je.OFF}var Pf=class{constructor(t,e){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=e,this._key=t,ir()!==je.OFF&&this.instantiateAppender()}logEvent(t,e){if(!this._telemetryClient){!this._isInstantiated&&ir()===je.ON&&this._eventQueue.push({eventName:t,data:e});return}this._telemetryClient.logEvent(t,e)}logException(t,e){if(!this._telemetryClient){!this._isInstantiated&&ir()!==je.OFF&&this._exceptionQueue.push({exception:t,data:e});return}this._telemetryClient.logException(t,e)}flush(){return ki(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:e})=>this.logEvent(t,e)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:e})=>this.logException(t,e)),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._isInstantiated=!0,this._flushQueues()}).catch(t=>{console.error(t)})}},_f=class{constructor(t,e,n,r,i){this.extensionId=t,this.extensionVersion=e,this.telemetryAppender=n,this.osShim=r,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),Y.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(Y.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(Y.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(Y.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let t=ir();this.userOptIn=t===je.ON,this.errorOptIn=t===je.ON,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(t){if(!t)return"none";let e="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{t.indexOf(`${n}`)===0&&(e=n)}),e}get extension(){return this._extension===void 0&&(this._extension=Y.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,e){if(t===null||typeof t!="object"||typeof e!="function")return t;let n={};for(let r in t)n[r]=e(r,t[r]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?this.cleanRemoteName(Y.env.remoteName)!=="other"?!0:!(this.extension===void 0||this.extension.extensionKind===Y.ExtensionKind.Workspace||Y.env.uiKind===Y.UIKind.Web):!0}getCommonProperties(){let t=Object.create(null);if(t["common.os"]=this.osShim.platform,t["common.nodeArch"]=this.osShim.architecture,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,Y&&Y.env){switch(t["common.vscodemachineid"]=Y.env.machineId,t["common.vscodesessionid"]=Y.env.sessionId,t["common.vscodeversion"]=Y.version,t["common.isnewappinstall"]=Y.env.isNewAppInstall?Y.env.isNewAppInstall.toString():"false",t["common.product"]=Y.env.appHost,Y.env.uiKind){case Y.UIKind.Web:t["common.uikind"]="web";break;case Y.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(Y.env.remoteName)}return t}anonymizeFilePaths(t,e){let n;if(t==null)return"";let r=[];Y.env.appRoot!==""&&r.push(new RegExp(Y.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(e){let o=[];for(let u of r)for(;(n=u.exec(t))&&n;)o.push([n.index,u.lastIndex]);let a=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(n=s.exec(t))&&n;)n[0]&&!a.test(n[0])&&o.every(([u,l])=>n.index<u||n.index>=l)&&(i+=t.substring(c,n.index)+"<REDACTED: user-file-path>",c=s.lastIndex);c<t.length&&(i+=t.substr(c))}for(let o of r)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(t){if(typeof t!="object")return;let e=Object.create(null);for(let n of Object.keys(t)){let r=t[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,a=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(r.toLowerCase())?e[n]="<REDACTED: secret>":i.test(r)?e[n]="<REDACTED: email>":a.test(r)?e[n]="<REDACTED: token>":e[n]=r}return e}sendTelemetryEvent(t,e,n){if(this.userOptIn&&t!==""){e=Be(Be({},e),this.getCommonProperties());let r=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}sendRawTelemetryEvent(t,e,n){this.userOptIn&&t!==""&&(e=Be(Be({},e),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:e,measurements:n}))}sendTelemetryErrorEvent(t,e,n,r){if(this.errorOptIn&&t!==""){e=Be(Be({},e),this.getCommonProperties());let i=this.cloneAndChange(e,(o,a)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(a,this.firstParty):r===void 0||r.indexOf(o)!==-1?"REDACTED":this.anonymizeFilePaths(a,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}sendTelemetryException(t,e,n){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&t){e=Be(Be({},e),this.getCommonProperties());let r=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));t.stack&&(t.stack=this.anonymizeFilePaths(t.stack,this.firstParty)),this.telemetryAppender.logException(t,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(t=>t.dispose()))}},Mf=t=>ki(void 0,null,function*(){let e;try{let n=yield Promise.resolve().then(()=>(Df(),Bu)),r;t&&t.indexOf("AIF-")===0&&(r="https://vortex.data.microsoft.com/collect/v1"),e=new n.ApplicationInsights({config:{instrumentationKey:t,endpointUrl:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),e.loadAppInsights();let i=ir();r&&i===je.ON&&fetch(r).catch(()=>e=void 0)}catch(n){return Promise.reject(n)}return{logEvent:(n,r)=>{e==null||e.trackEvent({name:n},Be(Be({},r==null?void 0:r.properties),r==null?void 0:r.measurements))},logException:(n,r)=>{e==null||e.trackException({exception:n,properties:Be(Be({},r==null?void 0:r.properties),r==null?void 0:r.measurements)})},flush:()=>ki(void 0,null,function*(){e==null||e.flush()})}}),zu=class extends _f{constructor(t,e,n,r){let i=new Pf(n,Mf);n&&n.indexOf("AIF-")===0&&(r=!0);super(t,e,i,{release:navigator.appVersion,platform:"web",architecture:"web"},r)}};var Lt=Et(require("vscode"));var Nf=require("vscode");function fi(t=32){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var xa=t=>t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(0,t.byteLength),wa=t=>typeof Buffer!="undefined"?Buffer.byteLength(t):new Blob([t]).size,Vu=t=>{let e=0;for(let i of t)e+=i.byteLength;let n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.byteLength;return n};var ba=class{constructor(e){this._extensionURI=e}resolveWebviewView(e,n,r){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionURI]},e.webview.html=this._getWebviewHTML(e.webview),e.webview.onDidReceiveMessage(i=>{i.type==="ready"&&e.show()}),this._view.onDidDispose(()=>this._view=void 0),e.onDidChangeVisibility(()=>{e.visible&&this._lastMessage&&e.webview.postMessage(this._lastMessage)}),this._lastMessage&&e.webview.postMessage(this._lastMessage)}handleEditorMessage(e){this._lastMessage=e,this._view?.webview.postMessage(e)}show(e){e?.autoReveal&&!Lt.workspace.getConfiguration("hexeditor.dataInspector").get("autoReveal",!1)||(this._view&&!e?.forceFocus?this._view.show():Lt.commands.executeCommand(`${ba.viewType}.focus`),this._lastMessage&&this._view?.webview.postMessage(this._lastMessage))}_getWebviewHTML(e){let n=e.asWebviewUri(Lt.Uri.joinPath(this._extensionURI,"dist","inspector.js")),r=e.asWebviewUri(Lt.Uri.joinPath(this._extensionURI,"dist","inspector.css")),i=Lt.workspace.getConfiguration().get("hexeditor.defaultEndianness"),o=fi();return`<!DOCTYPE html>
            <html lang="en">
            <head>
              <meta charset="UTF-8">
              <!--
                Use a content security policy to only allow loading images from https or from our extension directory,
                and only allow scripts that have a specific nonce.
              -->
              <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src 'nonce-${o}';">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <link href="${r}" rel="stylesheet">

              <title>Data Inspector</title>
            </head>
            <body>
              <div id="data-inspector">
                <div class="grid-container">
									<!-- Input elements filled in by dataInspector.ts -->
                  <div class="grid-item endian-select">
                    <label for="endianness">Endianness</label>
                  </div>
                  <div class="grid-item endian-select">
                    <select id="endianness">
                      <option value="little" ${i==="little"?"selected":""}>Little Endian</option>
                      <option value="big" ${i==="big"?"selected":""}>Big Endian</option>
                    </select>
                  </div>
                </div>
              </div>
              <script nonce="${o}" src="${n}"><\/script>
            </body>
            </html>`}},or=ba;or.viewType="hexEditor.dataInspectorView";var ju=Et(require("vscode"));var Ia=class{constructor(e,n){this.messageHandler=e;this.postMessage=n;this.messageIdCounter=0;this.pendingMessages=new Map}sendEvent(e){this.postMessage({body:e,messageId:this.messageIdCounter++})}sendRequest(e){let n=this.messageIdCounter++;return this.postMessage({body:e,messageId:n}),new Promise((r,i)=>{this.pendingMessages.set(n,{resolve:r,reject:i})})}sendReply(e,n){this.postMessage({body:n,messageId:this.messageIdCounter++,inReplyTo:e.messageId})}handleMessage(e){e.inReplyTo!==void 0?(this.pendingMessages.get(e.inReplyTo)?.resolve(e.body),this.pendingMessages.delete(e.inReplyTo)):Promise.resolve(this.messageHandler(e.body)).then(n=>n&&this.sendReply(e,n))}};var Lf=/^0x[a-f0-9]+$/i,Ff=/^[0-9]+$/i,Gu=t=>{let e=ju.window.createInputBox();e.placeholder="Enter offset to go to",t.sendEvent({type:6});let n,r=!1;e.onDidChangeValue(i=>{if(!i)n=void 0;else if(Lf.test(i))n=parseInt(i.slice(2),16);else if(Ff.test(i))n=parseInt(i,10);else{e.validationMessage="Offset must be provided as a decimal (12345) or hex (0x12345) address";return}e.validationMessage="",n!==void 0&&(e.validationMessage="",t.sendEvent({type:7,offset:n}))}),e.onDidAccept(()=>{r=!0,n!==void 0&&t.sendEvent({type:8,offset:n})}),e.onDidHide(()=>{r||t.sendEvent({type:9})}),e.show()};var Uf=typeof atob=="function",Of=typeof btoa=="function",pi=typeof Buffer=="function",Ip=typeof TextDecoder=="function"?new TextDecoder:void 0,Cp=typeof TextEncoder=="function"?new TextEncoder:void 0,Hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ar=Array.prototype.slice.call(Hf),hi=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(ar),qf=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,gi=String.fromCharCode.bind(String),Ku=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=n=>n)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),Bf=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),$u=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),zf=t=>{let e,n,r,i,o="",a=t.length%3;for(let s=0;s<t.length;){if((n=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,o+=ar[e>>18&63]+ar[e>>12&63]+ar[e>>6&63]+ar[e&63]}return a?o.slice(0,a-3)+"===".substring(a):o},Vf=Of?t=>btoa(t):pi?t=>Buffer.from(t,"binary").toString("base64"):zf,Qu=pi?t=>Buffer.from(t).toString("base64"):t=>{let e=4096,n=[];for(let r=0,i=t.length;r<i;r+=e)n.push(gi.apply(null,t.subarray(r,r+e)));return Vf(n.join(""))},mi=(t,e=!1)=>e?Bf(Qu(t)):Qu(t);var Wf=t=>{if(t=t.replace(/\s+/g,""),!qf.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,i;for(let o=0;o<t.length;)e=hi[t.charAt(o++)]<<18|hi[t.charAt(o++)]<<12|(r=hi[t.charAt(o++)])<<6|(i=hi[t.charAt(o++)]),n+=r===64?gi(e>>16&255):i===64?gi(e>>16&255,e>>8&255):gi(e>>16&255,e>>8&255,e&255);return n},jf=Uf?t=>atob($u(t)):pi?t=>Buffer.from(t,"base64").toString("binary"):Wf,Gf=pi?t=>Ku(Buffer.from(t,"base64")):t=>Ku(jf(t),e=>e.charCodeAt(0)),Xu=t=>Gf(Kf(t));var Kf=t=>$u(t.replace(/[-_]/g,e=>e=="-"?"+":"/"));var ee=Et(require("vscode"));var Ca=class{constructor(e,n,r){this.bias=e,this.backoffA=n,this.backoffB=r}next(e){let n=this.backoffA.next(e),r=this.backoffB.next(e);return n&&r&&Yu(this.bias,n,r)}},Yu=(t,e,n)=>({get duration(){switch(t){case"a":return e.duration;case"b":return n.duration;case"max":return Math.max(n.duration,e.duration);case"min":return Math.min(n.duration,e.duration);default:throw new Error(`Unknown bias "${t}" given to CompositeBackoff`)}},next(r){let i=e.next(r),o=n.next(r);return i&&o&&Yu(t,i,o)}});var An=class{constructor(e,n){this.interval=e,this.limit=n}next(){return Zu(this.interval,this.limit)}},Sp=new An(0,0),Zu=(t,e,n=0)=>({duration:t,next(){if(e===void 0)return this;if(!(n>=e-1))return Zu(t,e,n+1)}});var Ea=class{constructor(e){this.fn=e}next(e){return Sa(this.fn).next(e)}},Sa=(t,e,n=0)=>({duration:n,next(r){let i=t(r,e);if(i!==void 0)return typeof i=="number"?Sa(t,e,i):Sa(t,i.state,i.delay)}});var $f=4,Qf=1/1.4,el=(t,e)=>{let[n,r]=t||[0,0],i=n+Math.random(),o=Math.pow(e.exponent,i)*Math.tanh(Math.sqrt($f*i)),a=Math.max(0,o-r);return[Math.min(a*Qf*e.initialDelay,e.maxDelay),[n+1,o]]};var tl={generator:el,maxDelay:3e4,maxAttempts:1/0,exponent:2,initialDelay:128},Ta=class{constructor(e){this.options=e?{...tl,...e}:tl}next(){return nl(this.options).next(void 0)}},nl=(t,e,n=0,r=-1)=>({duration:n,next(){if(r>=t.maxAttempts-1)return;let[i,o]=t.generator(e,t);return nl(t,o,i,r+1)}});var ka=class{constructor(e){this.durations=e}next(){return rl(this.durations,0)}},rl=(t,e)=>({duration:t[e],next:()=>e<t.length-1?rl(t,e+1):void 0});var ut=class extends Error{constructor(e="Operation cancelled"){super(e);this.message=e,this.isTaskCancelledError=!0}};var vi={dispose:()=>{}},sr;(function(t){t.once=(e,n)=>{let r=!1,i;return i=e(o=>{n(o),i?i.dispose():r=!0}),r?(i.dispose(),vi):i},t.toPromise=(e,n)=>n?n.isCancellationRequested?Promise.reject(new ut):new Promise((r,i)=>{let o=t.once(e,s=>{a.dispose(),r(s)}),a=t.once(n.onCancellationRequested,()=>{o.dispose(),i(new ut)})}):new Promise(r=>t.once(e,r))})(sr||(sr={}));var Ie=class{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(let n of this.listeners)n(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}let n=this.listeners.indexOf(e);n!==-1&&(this.listeners.length===2?this.listeners=n===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,n).concat(this.listeners.slice(n+1)))}},Ra=class extends Ie{constructor(){super(...arguments);this.addListener=e=>{let n=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),n}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}};var Aa=class{constructor(e){this.onCancel=new Ra,this.token=new he(this.onCancel.addListener),e&&(this.parentListener=e.onCancellationRequested(()=>this.cancel()))}cancel(){this.parentListener&&(this.parentListener.dispose(),this.parentListener=void 0),this.onCancel.hasEmitted||this.onCancel.emit()}},he=class{constructor(e){this.onCancellationRequested=e,this.isRequested=!1,sr.once(e,()=>this.isRequested=!0)}get isCancellationRequested(){return this.isRequested}cancellation(e){return sr.toPromise(this.onCancellationRequested,e)}};he.None=new he(()=>vi);he.Cancelled=new he(t=>(t(void 0),vi));var Ft=t=>{if("error"in t)throw t.error;return"success"in t?t.success:t.value},Xf=()=>{if(typeof performance!="undefined"){let t=performance.now();return()=>performance.now()-t}else{let t=process.hrtime.bigint();return()=>Number(process.hrtime.bigint()-t)/1e6}},He=class{constructor(e=()=>!1,n=()=>!1){this.errorFilter=e,this.resultFilter=n,this.successEmitter=new Ie,this.failureEmitter=new Ie,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}derive(){let e=new He(this.errorFilter,this.resultFilter);return e.onSuccess(n=>this.successEmitter.emit(n)),e.onFailure(n=>this.failureEmitter.emit(n)),e}async invoke(e,...n){let r=this.successEmitter.size||this.failureEmitter.size?Xf():null;try{let i=await e(...n);return this.resultFilter(i)?(r&&this.failureEmitter.emit({duration:r(),handled:!0,reason:{value:i}}),{value:i}):(r&&this.successEmitter.emit({duration:r()}),{success:i})}catch(i){let o=this.errorFilter(i);if(r&&this.failureEmitter.emit({duration:r(),handled:o,reason:{error:i}}),!o)throw i;return{error:i}}}};var cr=class extends Error{constructor(e="Execution prevented because the circuit breaker is open"){super(e);this.isBrokenCircuitError=!0}};var Da=class extends Error{constructor(e,n){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${n} available)`);this.isBulkheadRejectedError=!0}};var Pa=class extends cr{constructor(){super("Execution prevented because the circuit breaker is open");this.isIsolatedCircuitError=!0}};var ae;(function(t){t[t.Closed=0]="Closed",t[t.Open=1]="Open",t[t.HalfOpen=2]="HalfOpen",t[t.Isolated=3]="Isolated"})(ae||(ae={}));var _a=class{constructor(e,n){this.options=e,this.executor=n,this.breakEmitter=new Ie,this.resetEmitter=new Ie,this.halfOpenEmitter=new Ie,this.stateChangeEmitter=new Ie,this.innerState={value:ae.Closed},this.onBreak=this.breakEmitter.addListener,this.onReset=this.resetEmitter.addListener,this.onHalfOpen=this.halfOpenEmitter.addListener,this.onStateChange=this.stateChangeEmitter.addListener,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}get state(){return this.innerState.value}get lastFailure(){return this.innerLastFailure}isolate(){this.innerState.value!==ae.Isolated&&(this.innerState={value:ae.Isolated,counters:0},this.breakEmitter.emit({isolated:!0}),this.stateChangeEmitter.emit(ae.Isolated)),this.innerState.counters++;let e=!1;return{dispose:()=>{e||(e=!0,this.innerState.value===ae.Isolated&&!--this.innerState.counters&&(this.innerState={value:ae.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(ae.Closed)))}}}async execute(e,n=he.None){let r=this.innerState;switch(r.value){case ae.Closed:let i=await this.executor.invoke(e,{cancellationToken:n});return"success"in i?this.options.breaker.success(r.value):(this.innerLastFailure=i,this.options.breaker.failure(r.value)&&this.open(i)),Ft(i);case ae.HalfOpen:if(await r.test.catch(()=>{}),this.state===ae.Closed&&n.isCancellationRequested)throw new ut;return this.execute(e);case ae.Open:if(Date.now()-r.openedAt<this.options.halfOpenAfter)throw new cr;let o=this.halfOpen(e,n);return this.innerState={value:ae.HalfOpen,test:o},this.stateChangeEmitter.emit(ae.HalfOpen),o;case ae.Isolated:throw new Pa;default:throw new Error(`Unexpected circuit state ${r}`)}}async halfOpen(e,n){this.halfOpenEmitter.emit();try{let r=await this.executor.invoke(e,{cancellationToken:n});return"success"in r?(this.options.breaker.success(ae.HalfOpen),this.close()):(this.innerLastFailure=r,this.options.breaker.failure(ae.HalfOpen),this.open(r)),Ft(r)}catch(r){throw this.close(),r}}open(e){this.state===ae.Isolated||this.state===ae.Open||(this.innerState={value:ae.Open,openedAt:Date.now()},this.breakEmitter.emit(e),this.stateChangeEmitter.emit(ae.Open))}close(){this.state===ae.HalfOpen&&(this.innerState={value:ae.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(ae.Closed))}};var il=()=>{let t,e,n=new Promise((r,i)=>{t=r,e=i});return{resolve:t,reject:e,promise:n}};var Ma=class{constructor(e,n){this.capacity=e,this.queueCapacity=n,this.active=0,this.queue=[],this.onRejectEmitter=new Ie,this.executor=new He,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,n=he.None){if(n.isCancellationRequested)throw new ut;if(this.active<this.capacity){this.active++;try{return await e({cancellationToken:n})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){let{resolve:r,reject:i,promise:o}=il();return this.queue.push({ct:n,fn:e,resolve:r,reject:i}),o}throw this.onRejectEmitter.emit(),new Da(this.capacity,this.queueCapacity)}dequeue(){let e=this.queue.shift();!e||Promise.resolve().then(()=>this.execute(e.fn,e.ct)).then(e.resolve).catch(e.reject)}};var Na=class{constructor(e,n){this.executor=e,this.value=n,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,n=he.None){let r=await this.executor.invoke(e,{cancellationToken:n});return"success"in r?r.success:this.value()}};var La=class{constructor(){this.executor=new He,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,n=he.None){return Ft(await this.executor.invoke(e,{cancellationToken:n}))}};var Jf=(t,e)=>new Promise(n=>{let r=setTimeout(n,t);e&&r.unref()}),ur=class{constructor(e,n){this.options=e,this.executor=n,this.onGiveUpEmitter=new Ie,this.onRetryEmitter=new Ie,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onRetry=this.onRetryEmitter.addListener,this.onGiveUp=this.onGiveUpEmitter.addListener}attempts(e){return this.composeBackoff("a",new An(1,e))}delay(e){return this.composeBackoff("b",typeof e=="number"?new An(e):new ka(e))}delegate(e){return this.composeBackoff("b",new Ea(e))}exponential(e={}){return this.composeBackoff("b",new Ta(e))}backoff(e){return this.composeBackoff("b",e)}dangerouslyUnref(){return this.derivePolicy({...this.options,unref:!0})}async execute(e,n=he.None){let r=this.options.backoff||new An(0,1),i;for(let o=0;;o++){let a=await this.executor.invoke(e,{attempt:o,cancellationToken:n});if("success"in a)return a.success;if(!n.isCancellationRequested){let s={attempt:o+1,cancellationToken:n,result:a};if(o===0?i=r.next(s):i&&(i=i.next(s)),i){let c=i.duration,u=Jf(c,!!this.options.unref);this.onRetryEmitter.emit({...a,delay:c}),await u;continue}}if(this.onGiveUpEmitter.emit(a),"error"in a)throw a.error;return a.value}}composeBackoff(e,n){return this.options.backoff&&(n=new Ca(e,this.options.backoff,n)),this.derivePolicy({...this.options,backoff:n})}derivePolicy(e){let n=new ur(e,this.executor.derive());return n.onRetry(r=>this.onRetryEmitter.emit(r)),n}};var Fa;(function(t){t.Cooperative="optimistic",t.Aggressive="aggressive"})(Fa||(Fa={}));var lr=class{constructor(e,n,r=new He,i=!1){this.duration=e,this.strategy=n,this.executor=r,this.unref=i,this.timeoutEmitter=new Ie,this.onTimeout=this.timeoutEmitter.addListener,this.onFailure=this.executor.onFailure,this.onSuccess=this.executor.onSuccess}dangerouslyUnref(){return new lr(this.duration,this.strategy,this.executor,!0)}async execute(e,n=he.None){let r=new Aa(n),i=setTimeout(()=>r.cancel(),this.duration);this.unref&&i.unref();let o={cancellation:r.token,cancellationToken:r.token},a=r.token.onCancellationRequested(()=>this.timeoutEmitter.emit());try{return this.strategy===Fa.Cooperative?Ft(await this.executor.invoke(e,o,r.token)):await this.executor.invoke(async()=>Promise.race([Promise.resolve(e(o,r.token)),r.token.cancellation(r.token).then(()=>{throw new ut(`Operation timed out after ${this.duration}ms`)})])).then(Ft)}finally{a.dispose(),r.cancel(),clearTimeout(i)}}};var yi=(t,e)=>e?n=>n instanceof t&&e(n):n=>n instanceof t,Yf=()=>!0,dr=()=>!1,Re=class{constructor(e){this.options=e}static wrap(...e){return{onFailure:e[0].onFailure,onSuccess:e[0].onSuccess,execute(n,r){let i=(o,a)=>a===e.length?n(o):e[a].execute(s=>i({...o,...s},a+1),o.cancellationToken);return Promise.resolve(i({cancellationToken:r},0))}}}static bulkhead(e,n=0){return new Ma(e,n)}static handleAll(){return new Re({errorFilter:Yf,resultFilter:dr})}static handleType(e,n){return new Re({errorFilter:yi(e,n),resultFilter:dr})}static handleWhen(e){return new Re({errorFilter:e,resultFilter:dr})}static handleResultType(e,n){return new Re({errorFilter:dr,resultFilter:yi(e,n)})}static handleWhenResult(e){return new Re({errorFilter:dr,resultFilter:e})}static timeout(e,n){return new lr(e,n)}static use(e){return(n,r,i)=>{let o=i.value;if(typeof o!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof o}`);i.value=function(...a){let s=a[a.length-1]instanceof he?a.pop():void 0;return e.execute(c=>o.apply(this,[...a,c]),s)}}}orType(e,n){let r=yi(e,n);return new Re({...this.options,errorFilter:i=>this.options.errorFilter(i)||r(i)})}orWhen(e){return new Re({...this.options,errorFilter:n=>this.options.errorFilter(n)||e(n)})}orWhenResult(e){return new Re({...this.options,resultFilter:n=>this.options.resultFilter(n)||e(n)})}orResultType(e,n){let r=yi(e,n);return new Re({...this.options,resultFilter:i=>this.options.resultFilter(i)||r(i)})}retry(){return new ur({},new He(this.options.errorFilter,this.options.resultFilter))}circuitBreaker(e,n){return new _a({breaker:n,halfOpenAfter:e},new He(this.options.errorFilter,this.options.resultFilter))}fallback(e){return new Na(new He(this.options.errorFilter,this.options.resultFilter),typeof e=="function"?e:()=>e)}};Re.noop=new La;var ol=t=>(e,n)=>{let r,i=0,o=n.length-1;for(;i<=o;)r=Math.floor((i+o)/2),t(n[r])>=e?o=r-1:i=r+1;return i};var xi=Symbol("unset"),Ua=t=>{let e=xi,n=()=>(e===xi&&(e=t()),e);return n.getValue=()=>e===xi?void 0:e,n.forget=()=>{e=xi},n};var Zf=t=>t.op===0?{...t,op:1,previous:t.value}:t.op===1?{...t,op:0,value:t.previous}:{...t,value:t.previous,previous:t.value};var wi=class{constructor(e){this.saveGuard=Re.bulkhead(1,1/0);this._unsavedEditIndex=0;this.getSizeInner=Ua(()=>this.accessor.getSize());this.getEditTimeline=Ua(()=>tp(this._edits));this._edits=e.edits?e.edits.saved.concat(e.edits.unsaved):[],this._unsavedEditIndex=e.edits?.saved.length??0,this.supportsLengthChanges=e.supportsLengthChanges,this.isFiniteSize=e.isFiniteSize,this.accessor=e.accessor}get uri(){return this.accessor.uri}get isReadonly(){return!!this.accessor.isReadonly}async size(){if(!this.isFiniteSize)return;let e=await this.getSizeInner();if(e===void 0)return;let{sizeDelta:n}=this.getEditTimeline();return e+n}get edits(){return this._edits}get unsavedEdits(){return this._edits.slice(this.unsavedEditIndex)}get unsavedEditIndex(){return this._unsavedEditIndex}get isSynced(){return this.unsavedEditIndex===this.edits.length}readInto(e,n){return this.accessor.read(e,n)}readWithEdits(e=0,n=128*1024){return ep(this.accessor,this.getEditTimeline().ranges,e,n)}save(){let e=this._edits.slice(this.unsavedEditIndex);return e.length===0?Promise.resolve():(this._unsavedEditIndex+=e.length,this.saveGuard.execute(async()=>{e.some(n=>n.op!==2||n.previous.length!==n.value.length)?await this.accessor.writeStream(this.readWithEdits()):await this.accessor.writeBulk(e.map(n=>({offset:n.offset,data:n.value}))),this.getSizeInner.forget()}))}revert(){this._unsavedEditIndex=0,this._edits=[],this.accessor.invalidate?.(),this.getEditTimeline.forget(),this.getSizeInner.forget()}makeEdits(e){let n=this._edits.length;return this._edits.push(...e),this.getEditTimeline.forget(),{undo:()=>(this.unsavedEditIndex<=n?this._edits.splice(n,e.length):this._edits.push(...e.map(Zf)),this.getEditTimeline.forget(),this._edits),redo:()=>(this._edits.push(...e),this.getEditTimeline.forget(),this._edits)}}dispose(){this.accessor.dispose()}};async function*ep(t,e,n=0,r=1024){let i=new Uint8Array(r);for(let o=0;o<e.length;o++){let a=e[o];if(a.op===1)continue;if(a.op===2){let u=a.offset+a.value.length-n;if(u<=0)continue;let l=u<a.value.length?a.value.subarray(-u):a.value;l.length>0&&(yield l);continue}let s=a.roffset+(o+1<e.length?e[o+1].offset:1/0)-a.offset,c=a.roffset+Math.max(0,n-a.offset);for(;c<s;){let u=await t.read(c,i.subarray(0,Math.min(i.length,s-c)));if(u===0)break;yield i.subarray(0,u),c+=u}}}var tp=t=>{let e=[{op:0,editIndex:-1,roffset:0,offset:0}],n=(a,s,c)=>s.op===0?{before:{op:0,editIndex:a,roffset:s.roffset,offset:s.offset},after:{op:0,editIndex:a,roffset:s.roffset+c,offset:s.offset+c}}:s.op===1?{before:{op:1,editIndex:a,offset:s.offset},after:{op:1,editIndex:a,offset:s.offset+c}}:{before:{op:2,editIndex:a,offset:s.offset,value:s.value.subarray(0,c)},after:{op:2,editIndex:a,offset:s.offset+c,value:s.value.subarray(c)}},r=ol(a=>a.offset),i=0,o=(a,s)=>{for(i+=s;a<e.length;a++)e[a].offset+=s};for(let a=0;a<t.length;a++){let s=t[a],c=r(s.offset,e);(c===e.length||e[c].offset>s.offset)&&c--;let u=e[c];if(s.op===0){let{before:l,after:d}=n(a,u,s.offset-u.offset);e.splice(c,1,l,{op:2,editIndex:a,offset:s.offset,value:s.value},d),o(c+2,s.value.length)}else if(s.op===1||s.op===2){let{before:l}=n(a,u,s.offset-u.offset),d=r(s.offset+s.previous.length,e);(d===e.length||e[d].offset>s.offset)&&d--;let{after:p}=n(a,e[d],s.offset+s.previous.length-e[d].offset);e.splice(c,d-c+1,l,s.op===2?{op:2,editIndex:a,offset:s.offset,value:s.value}:{op:1,editIndex:a,offset:s.offset},p),o(c+2,(s.op===2?s.value.length:0)-s.previous.length)}}return{ranges:e,sizeDelta:i}};var al=t=>typeof t=="function"?t():t,fr=class{constructor(){this.table=new Map}set(e,n){let r=rp(e),i=this.table.get(r);if(!i){let a={buf:e,value:al(n)};return this.table.set(r,[a]),a.value}for(let a of i)if(np(a.buf,e))return a.value;let o={buf:e,value:al(n)};return i.push(o),o.value}*entries(){for(let e of this.table.values())for(let{buf:n,value:r}of e)yield[n,r]}*keys(){for(let e of this.table.values())for(let{buf:n}of e)yield n}*values(){for(let e of this.table.values())for(let{value:n}of e)yield n}};function np(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function rp(t,e=0){e=sl(149417,e);for(let n=0,r=t.length;n<r;n++)e=sl(t[n],e);return e}function sl(t,e){return(e<<5)-e+t|0}var pr=t=>{let e=0,n=new fr,r=a=>({offset:n.set(a,()=>{let c=e;return e+=a.length,c}),len:a.length}),i=[];for(let a of t)a.op===0?i.push({...a,value:r(a.value)}):a.op===1?i.push({...a,previous:r(a.previous)}):i.push({...a,previous:r(a.previous),value:r(a.value)});let o=new Uint8Array(e);for(let[a,s]of n.entries())o.set(a,s);return{data:o,edits:i}},cl=({edits:t,data:e})=>{let n=({offset:r,len:i})=>e.slice(r,r+i);return t.map(r=>r.op===0?{...r,value:n(r.value)}:r.op===1?{...r,previous:n(r.previous)}:{...r,previous:n(r.previous),value:n(r.value)})};function Oa(t){for(;t.length;){let e=t.pop();e&&e.dispose()}}var Ha=class{constructor(){this._isDisposed=!1;this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,Oa(this._disposables))}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}};var It=Et(require("vscode"));var qa=Et(require("vscode")),op=new TextEncoder,ap=new TextDecoder,bi=class{constructor(e){this.uri=e}async write(e){let n=JSON.stringify(e,(r,i)=>i instanceof Uint8Array?{$u8:mi(i)}:i);await qa.workspace.fs.writeFile(this.uri,op.encode(n))}async read(){let e;try{e=ap.decode(await qa.workspace.fs.readFile(this.uri))}catch{return[]}return JSON.parse(e,(n,r)=>r&&typeof r=="object"&&"$u8"in r?Xu(r.$u8):r)}};var ue=Et(require("vscode")),Ba=async(t,e)=>{if(t.scheme==="untitled")return new dl(t,e??new Uint8Array);if(t.scheme==="vscode-debug-memory"){let{permissions:n=0}=await ue.workspace.fs.stat(t);return new fl(t,!!(n&ue.FilePermission.Readonly))}if(t.scheme==="file")try{let n=require("fs");if((await n.promises.stat(t.fsPath)).isFile())return new ll(t,n)}catch{}return new za(t)},ul=class{constructor(e,n){this.path=e;this._fs=n;this.borrowQueue=[];this.disposed=!1}borrow(e){return this.disposed?Promise.reject(new Error("FileHandle was disposed")):new Promise((n,r)=>{this.borrowQueue.push(async i=>{if(i instanceof Error)return r(i);try{n(await e(i))}catch(o){r(o)}}),this.borrowQueue.length===1&&this.process()})}dispose(){this.disposed=!0,this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout),this.rejectAll(new Error("FileHandle was disposed"))}async close(){await this.handle?.close(),this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout)}rejectAll(e){for(;this.borrowQueue.length;)this.borrowQueue.pop()(e)}async process(){for(this.disposeTimeout&&clearTimeout(this.disposeTimeout);this.borrowQueue.length;){if(!this.handle)try{this.handle=await this._fs.promises.open(this.path,this._fs.constants.O_RDWR|this._fs.constants.O_CREAT)}catch(e){return this.rejectAll(e)}await this.borrowQueue[0]?.(this.handle),this.borrowQueue.shift()}this.handle&&(this.disposeTimeout=setTimeout(()=>{this.handle?.close(),this.handle=void 0},1e3))}},sp=Re.handleWhen(t=>t.code==="ENOENT").retry().attempts(10).delay(50),ll=class{constructor(e,n){this.fs=n;this.supportsIncremetalAccess=!0;this.uri=e.toString(),this.handle=new ul(e.fsPath,n)}watch(e,n){return Va(this.uri,e,n)}async getSize(){return this.handle.borrow(async e=>(await e.stat()).size)}async read(e,n){return this.handle.borrow(async r=>{let{bytesRead:i}=await r.read(n,0,n.byteLength,e);return i})}writeBulk(e){return this.handle.borrow(async n=>{for(let{data:r,offset:i}of e)n.write(r,0,r.byteLength,i)})}async writeStream(e,n){let r=`${this.handle.path}.tmp`,i=await this.fs.promises.open(r,this.fs.constants.O_WRONLY|this.fs.constants.O_CREAT|this.fs.constants.O_TRUNC);try{let o=0;for await(let a of e){if(n?.isCancellationRequested)return;await i.write(a,0,a.byteLength,o),o+=a.byteLength}}finally{await i.close()}return await this.handle.borrow(async()=>{await this.handle.close(),await sp.execute(()=>this.fs.promises.rename(r,this.handle.path))}),this.handle.borrow(async o=>{if(n?.isCancellationRequested)return;let a=0;for await(let s of e){if(n?.isCancellationRequested)return;await o.write(s,0,s.byteLength,a),a+=s.byteLength}})}dispose(){this.handle.dispose()}},za=class{constructor(e){this.uri=e.toString(),this.fsPath=e.fsPath,this.isReadonly=ue.workspace.fs.isWritableFileSystem(this.uri)===!1}watch(e,n){return Va(this.uri,e,n)}async getSize(){return(await ue.workspace.fs.stat(ue.Uri.parse(this.uri))).size}async read(e,n){let r=await this.getContents(),i=Math.min(n.length,r.length-e);return n.set(r.subarray(e,i+e)),i}async writeStream(e,n){let r=0,i=[];for await(let s of e){if(n?.isCancellationRequested)throw new ue.CancellationError;i.push(s),r+=s.length}let o=new Uint8Array(r),a=0;for(let s of i)o.set(s,a),a+=s.length;await ue.workspace.fs.writeFile(ue.Uri.parse(this.uri),o)}async writeBulk(e){let n=await this.getContents();for(let{data:r,offset:i}of e)n.set(r,i);return ue.workspace.fs.writeFile(ue.Uri.parse(this.uri),n)}invalidate(){this.contents=void 0}dispose(){this.contents=void 0}getContents(){return this.contents??(this.contents=ue.workspace.fs.readFile(ue.Uri.parse(this.uri))),this.contents}},dl=class extends za{constructor(e,n){super(e);this.contents=n}getSize(){return Promise.resolve(this.contents.byteLength)}},fl=class{constructor(e,n){this.isReadonly=n;this.supportsIncremetalAccess=!0;this.uri=e.toString()}watch(e,n){return Va(this.uri,e,n)}async getSize(){}async read(e,n){let r=await ue.workspace.fs.readFile(this.referenceRange(e,e+n.length)),i=Math.min(n.length,r.length-e);return n.set(r.subarray(e,i+e)),i}async writeStream(){throw new Error("Not supported")}async writeBulk(e){await Promise.all(e.map(n=>ue.workspace.fs.writeFile(this.referenceRange(n.offset,n.offset+n.data.length),n.data)))}referenceRange(e,n){return ue.Uri.parse(this.uri).with({query:`?range=${e}:${n}`})}invalidate(){}dispose(){}},Va=(t,e,n)=>{let r=t.split("/"),i=r.pop(),o=new ue.RelativePattern(ue.Uri.parse(r.join("/")),i),a=ue.workspace.createFileSystemWatcher(o);return a.onDidChange(e),a.onDidDelete(n),a};var Wa=class{start(e,n){this._request?.dispose(),this._request=n,(async()=>{for await(let r of n.search())e.sendEvent({type:2,data:r})})()}cancel(){this._request?.dispose(),this._request=void 0}};var Zt=class extends Ha{constructor(e,n,r){super();this.model=e;this.isLargeFile=n;this.baseAddress=r;this.lastSave=0;this.searchProvider=new Wa;this._onDidDispose=this._register(new It.EventEmitter);this.onDidDispose=this._onDidDispose.event;this._onDidRevert=this._register(new It.EventEmitter);this.onDidRevert=this._onDidRevert.event}static async create(e,{backupId:n,untitledDocumentData:r},i){let o=await Ba(e,r),a=new wi({accessor:o,isFiniteSize:!0,supportsLengthChanges:!0,edits:n?{unsaved:await new bi(It.Uri.parse(n)).read(),saved:[]}:void 0}),s=Zt.parseQuery(e.query),c=s.baseAddress?Zt.parseHexOrDecInt(s.baseAddress):0,u=await o.getSize();i.sendTelemetryEvent("fileOpen",{},{fileSize:u??0});let l=It.workspace.getConfiguration().get("hexeditor.maxFileSize")*1e6,d=!n&&!o.supportsIncremetalAccess&&(u??0)>l;return{document:new Zt(a,d,c),accessor:o}}get isReadonly(){return this.model.isReadonly}get uri(){return It.Uri.parse(this.model.uri)}readWithEdits(e){return this.model.readWithEdits(e)}async readBufferWithEdits(e,n){let r=new Uint8Array(n),i=0;for await(let o of this.model.readWithEdits(e)){let a=Math.min(o.length,r.length-i);if(r.set(o.subarray(0,a),i),i+=a,i===n)return r}return r.slice(0,i)}async readBuffer(e,n){let r=new Uint8Array(n),i=await this.model.readInto(e,r);return i===n?r:r.slice(0,i)}dispose(){this._onDidDispose.fire(),this.model.dispose(),super.dispose()}get isSynced(){return this.model.isSynced}get edits(){return this.model.edits}get unsavedEditIndex(){return this.model.unsavedEditIndex}makeEdits(e){return this.model.makeEdits(e)}insert(e,n){return this.model.makeEdits([{op:0,offset:e,value:n}])}async replace(e,n){let r=await this.readBufferWithEdits(e,n.length);return r.length===n.length?this.makeEdits([{op:2,offset:e,value:n,previous:r}]):this.makeEdits([{op:2,offset:e,value:n.subarray(0,r.length),previous:r},{op:0,offset:e+r.length,value:n.subarray(r.length)}])}size(){return this.model.size()}async save(e){this.lastSave=Date.now(),await this.model.save(),this.lastSave=Date.now()}async saveAs(e,n){if(n&&n.isCancellationRequested)return;if(!this.model.isFiniteSize)throw new Error("Cannot save a document without a finite size");let r=await Ba(e);this.lastSave=Date.now(),await r.writeStream(this.model.readWithEdits()),this.lastSave=Date.now(),this.model.dispose(),this.model=new wi({accessor:r,isFiniteSize:!0,supportsLengthChanges:!0})}async revert(e){this.model.revert(),this._onDidRevert.fire()}async backup(e){return await new bi(e).write(this.model.unsavedEdits),{id:e.toString(),delete:async()=>{try{await It.workspace.fs.delete(e)}catch{}}}}static parseQuery(e){let n={};if(e){let r=(e[0]==="?"?e.substr(1):e).split("&");for(let i of r){let o=i.split("="),a=o.shift();a&&(n[a]=o.join("="))}}return n}static parseHexOrDecInt(e){return e=e.toLowerCase(),e.startsWith("0x")?parseInt(e.substring(2),16):parseInt(e,10)}};var Ii=Symbol("Wildcard"),pl=new Uint8Array(255);for(let t=0;t<255;t++)pl[t]=t;var ja=new Uint8Array(255);for(let t=0;t<255;t++)ja[t]=String.fromCharCode(t).toUpperCase().charCodeAt(0);var Ga=class{constructor(e,n,r=pl){this.needle=e;this.onMatch=n;this.equivalencyTable=r;this.needleLen=0;this.index=0;this.usableBuffer=0;for(let i of e)i===Ii?this.needleLen++:this.needleLen+=i.length;this.buffer=new Uint8Array(this.needleLen)}push(e){let{needleLen:n,buffer:r}=this;for(let i=0;i<e.length;i++)r[this.index++%n]=e[i],this.usableBuffer++,this.attemptMatch()}attemptMatch(){let{needle:e,needleLen:n,buffer:r,index:i,equivalencyTable:o}=this;if(this.usableBuffer<n)return;let a=0;for(let c=0;c<e.length;c++){let u=e[c];if(u===Ii){a++;continue}for(let l=0;l<u.length;l++){if(o[u[l]]!==o[r[(i+a)%n]])return;a++}}this.matchTmpBuf||(this.matchTmpBuf=new Uint8Array(n));let s=this.index%n;this.matchTmpBuf.set(r.subarray(s),0),this.matchTmpBuf.set(r.subarray(0,s),n-s),this.onMatch(this.index-n,this.matchTmpBuf),this.usableBuffer=0}};var Qa=class{constructor(e,n){this.filesize=e;this.cap=n;this.buffers=new fr;this.fileOffset=0;this.lastYieldedTime=Date.now();this.results=[]}get capped(){return this.cap===0}push(e,n,r){let i=this.buffers.set(e,()=>new Uint8Array(e));this.cap===void 0?this.results.push({from:n,to:r,previous:i}):this.cap>0&&(this.results.push({from:n,to:r,previous:i}),this.cap--)}toYield(){let e=Date.now();if(e-this.lastYieldedTime>Qa.targetUpdateInterval){this.lastYieldedTime=e;let n=this.results;return this.results=[],{progress:this.filesize?this.fileOffset/this.filesize:0,results:n}}}final(){return{progress:1,capped:this.capped,results:this.results}}},Ci=Qa;Ci.targetUpdateInterval=1e3;var Ka=class{constructor(e,n,r,i){this.document=e;this.query=n;this.isCaseSensitive=r;this.cap=i;this.cancelled=!1}dispose(){this.cancelled=!0}async*search(){let{isCaseSensitive:e,query:n,document:r,cap:i}=this,o=new Ci(await r.size(),i),a=new Ga(n.literal.map(s=>s==="*"?Ii:s),(s,c)=>o.push(c,s,s+c.length),e?void 0:ja);for await(let s of r.readWithEdits(0)){if(this.cancelled||o.capped){yield o.final();return}a.push(s),o.fileOffset+=s.length;let c=o.toYield();c&&(yield c)}yield o.final()}},cp=8*1024,$a=class{constructor(e,n,r,i){this.document=e;this.cap=i;this.cancelled=!1;this.re=new RegExp(n.re,r?"g":"ig")}dispose(){this.cancelled=!0}async*search(){let e="",n=0,{re:r,document:i}=this,o=new TextDecoder,a=new TextEncoder,s=new Ci(await i.size(),this.cap);for await(let c of i.readWithEdits(0)){if(this.cancelled||s.capped){yield s.final();return}e+=o.decode(c);let u=0;for(let p of e.matchAll(r)){let x=n+wa(e.slice(0,p.index)),I=wa(p[0]);s.push(a.encode(p[0]),x,x+I),u=p.index+p[0].length}s.fileOffset+=c.length;let l=Math.max(e.length-cp,u);l>0&&(n+=l,r.lastIndex=0,e=e.slice(l));let d=s.toYield();d&&(yield d)}yield s.final()}};var Xa=class{constructor(){this._webviews=new Set}*get(e){let n=e.toString();for(let r of this._webviews)r.resource===n&&(yield r)}add(e,n,r){let i={resource:e.toString(),messaging:n,webviewPanel:r};this._webviews.add(i),r.onDidDispose(()=>{this._webviews.delete(i)})}};var hl={columnWidth:16,showDecodedText:!0,defaultEndianness:"little",inspectorType:"aside"},gl=Object.keys(hl),en=class{constructor(e,n,r){this._context=e;this._telemetryReporter=n;this._dataInspectorView=r;this.webviews=new Xa;this._onDidChangeCustomDocument=new ee.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event;this._requestId=1;this._callbacks=new Map}static register(e,n,r){return ee.window.registerCustomEditorProvider(en.viewType,new en(e,n,r),{supportsMultipleEditorsPerDocument:!1})}async openCustomDocument(e,n,r){let{document:i,accessor:o}=await Zt.create(e,n,this._telemetryReporter),a=[];a.push(i.onDidRevert(()=>{for(let{messaging:u}of this.webviews.get(i.uri))u.sendEvent({type:3,edits:{edits:[],data:new Uint8Array}}),u.sendEvent({type:5})}));let s=async()=>{if(i.isSynced){Date.now()-i.lastSave<5e3||i.revert();return}let u="This file has changed on disk, but you have unsaved changes. Saving now will overwrite the file on disk with your changes.",l="Overwrite",d="Revert",p=await ee.window.showWarningMessage(u,l,d);p===l?ee.commands.executeCommand("workbench.action.files.save"):p==="Revert"&&ee.commands.executeCommand("workbench.action.files.revert")},c=()=>{ee.window.showWarningMessage("This file has been deleted! Saving now will create a new file on disk.","Overwrite","Close Editor").then(u=>{u==="Overwrite"?ee.commands.executeCommand("workbench.action.files.save"):u==="Close Editor"&&ee.commands.executeCommand("workbench.action.closeActiveEditor")})};return a.push(o.watch(s,c)),i.onDidDispose(()=>{ee.commands.executeCommand("setContext","hexEditor:showSidebarInspector",!1),Oa(a)}),i}async resolveCustomEditor(e,n,r){let i=new Ia(a=>this.onMessage(i,e,a),a=>n.webview.postMessage(a));this.webviews.add(e.uri,i,n),en.currentWebview=i;let o=ee.workspace.getConfiguration("hexeditor").get("inspectorType")==="sidebar";o&&(ee.commands.executeCommand("setContext","hexEditor:showSidebarInspector",!0),this._dataInspectorView.show({autoReveal:!0})),n.webview.options={enableScripts:!0},n.webview.html=this.getHtmlForWebview(n.webview),n.onDidChangeViewState(a=>{ee.commands.executeCommand("setContext","hexEditor:showSidebarInspector",o&&a.webviewPanel.visible),a.webviewPanel.visible?(en.currentWebview=i,this._dataInspectorView.show({autoReveal:!0,forceFocus:!0})):en.currentWebview=void 0}),n.webview.onDidReceiveMessage(a=>i.handleMessage(a))}async saveCustomDocument(e,n){await e.save(n);for(let{messaging:r}of this.webviews.get(e.uri))r.sendEvent({type:4,unsavedEditIndex:e.unsavedEditIndex})}saveCustomDocumentAs(e,n,r){return e.saveAs(n,r)}revertCustomDocument(e,n){return e.revert(n)}backupCustomDocument(e,n,r){return e.backup(n.destination)}getHtmlForWebview(e){let n=e.asWebviewUri(ee.Uri.joinPath(this._context.extensionUri,"dist","editor.js")),r=e.asWebviewUri(ee.Uri.joinPath(this._context.extensionUri,"dist","editor.css")),i=fi();return`
			<!DOCTYPE html>
			<html lang="en">
			<head>
				<meta charset="UTF-8">

				<!--
				Use a content security policy to only allow loading images from https or from our extension directory,
				and only allow scripts that have a specific nonce.
				-->
				<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src ${e.cspSource} blob:; font-src ${e.cspSource}; style-src ${e.cspSource}; script-src 'nonce-${i}';">

				<meta name="viewport" content="width=device-width, initial-scale=1.0">

				<link href="${r}" rel="stylesheet" />
				<script nonce="${i}" src="${n}" defer><\/script>

				<title>Hex Editor</title>
			</head>
			<body>
			</body>
			</html>`}getBodyHTML(){return`
		<div class="column left">
			<div class="header" aria-hidden="true">00000000</div>
			<div class="rowwrapper" id="hexaddr">
			</div>
		</div>
		<div id="editor-container">
			<div class="column middle">
				<div class="header">
					<span>00</span><span>01</span><span>02</span><span>03</span><span>04</span><span>05</span><span>06</span><span>07</span><span>08</span><span>09</span><span>0A</span><span>0B</span><span>0C</span><span>0D</span><span>0E</span><span>0F</span>
				</div>
				<div class="rowwrapper" id="hexbody">
				</div>
			</div>
			<div class="column right">
				<div class="header">DECODED TEXT</div>
				<div class="rowwrapper" id="ascii">
				</div>
			</div>
			<div id="scrollbar">
				<div role="scrollbar" id="scroll-thumb">
				</div>
			</div>
		</div>
		<div id="search-container">
		</div>
		`}postMessageWithResponse(e,n,r){let i=this._requestId++,o=new Promise(a=>this._callbacks.set(i,a));return e.webview.postMessage({type:n,requestId:i,body:r}),o}readEditorSettings(){let e=ee.workspace.getConfiguration("hexeditor"),n={...hl};for(let r of gl)e.has(r)&&(n[r]=e.get(r));return n}writeEditorSettings(e){let n=ee.workspace.getConfiguration("hexeditor");for(let r of gl){let i=n.inspect(r),o=i?i.workspaceFolderValue!==void 0?ee.ConfigurationTarget.WorkspaceFolder:i.workspaceValue!==void 0?ee.ConfigurationTarget.Workspace:ee.ConfigurationTarget.Global:ee.ConfigurationTarget.Global;n.update(r,e[r],o)}}async onMessage(e,n,r){switch(r.type){case 10:return{type:0,initialOffset:n.baseAddress,editorSettings:this.readEditorSettings(),edits:pr(n.edits),unsavedEditIndex:n.unsavedEditIndex,fileSize:await n.size(),isLargeFile:n.isLargeFile,isReadonly:n.isReadonly};case 12:let i=await n.readBuffer(r.offset,r.bytes);return{type:1,data:xa(i)};case 13:this.publishEdit(e,n,n.makeEdits(cl(r.edits)));return;case 19:this.publishEdit(e,n,r.mode==="insert"?n.insert(r.offset,r.data):await n.replace(r.offset,r.data)),e.sendEvent({type:3,edits:pr(n.edits)});return;case 20:{let a=await Promise.all(r.selections.sort((u,l)=>u[0]-l[0]).map(u=>n.readBuffer(u[0],u[1]-u[0]))),s=Vu(a),c=r.asText?new TextDecoder().decode(s):mi(s);ee.env.clipboard.writeText(c);return}case 15:n.searchProvider.cancel();return;case 14:let o;"re"in r.query?o=new $a(n,r.query,r.caseSensitive,r.cap):o=new Ka(n,r.query,r.caseSensitive,r.cap),n.searchProvider.start(e,o);return;case 16:this._dataInspectorView.handleEditorMessage({method:"reset"});break;case 17:this._dataInspectorView.handleEditorMessage({method:"update",data:xa(await n.readBufferWithEdits(r.offset,8))});break;case 18:this.writeEditorSettings(r.editorSettings);break}}publishEdit(e,n,r){this._onDidChangeCustomDocument.fire({document:n,undo:()=>e.sendEvent({type:3,edits:pr(r.undo())}),redo:()=>e.sendEvent({type:3,edits:pr(r.redo())})})}},Dn=en;Dn.viewType="hexEditor.hexedit";var ml="ms-vscode.hexeditor",Ei;function up(t){let e=Ut.extensions.getExtension(t).packageJSON;return{version:e.version,aiKey:e.aiKey}}function lp(t){let e=new or(t.extensionUri),n=up(ml);t.subscriptions.push(Ut.window.registerWebviewViewProvider(or.viewType,e)),Ei=new zu(ml,n.version,n.aiKey);let r=Ut.commands.registerTextEditorCommand("hexEditor.openFile",o=>{Ut.commands.executeCommand("vscode.openWith",o.document.uri,"hexEditor.hexedit")}),i=Ut.commands.registerCommand("hexEditor.goToOffset",()=>{Dn.currentWebview&&Gu(Dn.currentWebview)});t.subscriptions.push(i),t.subscriptions.push(r),t.subscriptions.push(Ei),t.subscriptions.push(Dn.register(t,Ei,e))}function dp(){Ei.dispose()}module.exports=El(fp);
/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
